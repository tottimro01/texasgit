{"title":"\u0e27\u0e34\u0e40\u0e04\u0e23\u0e32\u0e30\u0e2b\u0e4c\u0e1c\u0e25\u0e41\u0e1e\u0e49\u0e0a\u0e19\u0e30","temp":"<div class=\"row\">\n    <div class=\"widget-box hidden-boder\" id=\"reloadWinLoseMember\">\n        <div class=\"widget-header widget-header-blue widget-header-flat hidden \">\n            <h4 class=\"widget-title lighter\"><strong> \u0e27\u0e34\u0e40\u0e04\u0e23\u0e32\u0e30\u0e2b\u0e4c\u0e1c\u0e25\u0e41\u0e1e\u0e49\u0e0a\u0e19\u0e30 <\/strong><\/h4>\n            <div class=\"widget-toolbar hidden\">\n                <a href=\"#\" data-action=\"reload\" id=\"\">\n                    <i class=\"ace-icon fa fa-refresh\"><\/i>\n                <\/a>\n            <\/div>\n        <\/div>\n        <div class=\"widget-body\">\n            <div class=\"widget-main\">\n                <div class=\"row\">\n                    <div class=\"col-xs-12 col-sm-12\">\n                        <form class=\"form-horizontal\" id=\"winOrLossAnalysis\" method=\"get\">\n                            <div class=\"form-group\">\n                                <label class=\"control-label col-xs-2 col-sm-2 col-md-1 no-padding-right\" for=\"username\"> \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 :<\/label>\n                                <div class=\"col-xs-10 col-sm-4 col-md-4 mobile-padding\">\n                                    <div class=\"input-daterange input-group\">\n                                        <div class=\"input-group\">\n                                            <span class=\"input-group-addon\">\n                                                <i class=\"fa fa-calendar bigger-110\"><\/i>\n                                            <\/span>\n                                            <input class=\"input-sm form-control date-picker\" id=\"begin_date\" type=\"text\"  data-date-format=\"dd-mm-yyyy\"  onfocus=\"this.blur()\"\/>\n                                        <\/div>\n                                        <span class=\"input-group-addon\">\n                                            <i class=\"fa fa-exchange\"><\/i>\n                                        <\/span>\n                                        <input class=\"input-sm form-control date-picker\" id=\"end_date\" type=\"text\"  data-date-format=\"dd-mm-yyyy\"  onfocus=\"this.blur()\"\/>    \n                                    <\/div>\n                                <\/div>\n                                <div class=\"col-xs-12 col-sm-2 col-md-2 mobile-padding\">\n                                    <input type=\"text\" name=\"suser\" id=\"suser\" class=\"col-xs-12 col-sm-12 input-sm \" placeholder=\"\u0e23\u0e2b\u0e31\u0e2a..\"\/>\n                                <\/div>\n                                <div class=\"col-xs-12 col-sm-4 col-md-4 mobile-padding\">\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm\" id=\"btn_search\">\n                                        <span class=\"ace-icon fa fa-search icon-on-right bigger-110\"><\/span>\n                                        \u0e04\u0e49\u0e19\u0e2b\u0e32                                    <\/button>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm pull-right\" id=\"filter_more\">\n                                        <span class=\"ace-icon fa fa-filter icon-on-right bigger-110\"><\/span>\n                                    <\/button>\n                                <\/div>\n                            <\/div>\n                            <div class=\"form-group mobile-mode\">\n                                <div class=\"col-xs-12 col-sm-12\">\n                                    <label style=\"margin-right: 10px;\">\n                                        <span class=\"lbl\"> \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e01\u0e21\u0e2a\u0e4c : <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"all\" class=\"ace ace-checkbox-2\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll('all');\" \/>\n                                        <span class=\"lbl\"> \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_soccer\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e1f\u0e38\u0e15\u0e1a\u0e2d\u0e25 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_step\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e2a\u0e40\u0e15\u0e47\u0e1b <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_sport\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e01\u0e35\u0e2c\u0e32 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_game\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e40\u0e01\u0e21\u0e2a\u0e4c <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_casino\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e04\u0e32\u0e2a\u0e34\u0e42\u0e19 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_lottery\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e25\u0e47\u0e2d\u0e15\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e23\u0e35\u0e48 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_lotto\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e2b\u0e27\u0e22 <\/span>\n                                    <\/label>\n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_lottoSet\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e2b\u0e27\u0e22\u0e2b\u0e38\u0e49\u0e19 <\/span>\n                                    <\/label>\n                                    \n                                    <label style=\"margin-right: 10px;\">\n                                        <input name=\"cb_lottoLao\" class=\"ace ace-checkbox-2 chkGame\" type=\"checkbox\" checked=\"checked\" onclick=\"checkAll();\"\/>\n                                        <span class=\"lbl\"> \u0e2b\u0e27\u0e22\u0e25\u0e32\u0e27 <\/span>\n                                    <\/label>\n                                <\/div>\n                            <\/div>\n                            <div class=\"form-group mobile-mode\">\n                                <div class=\"col-xs-12 col-sm-12 control-group inline\">\n                                    <div class=\"radio\">\n                                        <label style=\"margin-right: 10px;\">\n                                            <input type=\"radio\" name=\"radio_group_type\" value=\"u\" checked=\"checked\" class=\"ace\">\n                                            <span class=\"lbl\"> \u0e23\u0e2b\u0e31\u0e2a <\/span>\n                                        <\/label>\n                                        <label style=\"margin-right: 10px;\">\n                                            <input type=\"radio\" name=\"radio_group_type\" value=\"d\" class=\"ace\">\n                                            <span class=\"lbl\"> \u0e27\u0e31\u0e19 <\/span>\n                                        <\/label>\n                                        <label style=\"margin-right: 10px;\">\n                                            <input type=\"radio\" name=\"radio_group_type\" value=\"g\" class=\"ace\">\n                                            <span class=\"lbl\"> \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e01\u0e21\u0e2a\u0e4c <\/span>\n                                        <\/label>\n                                                                                                                                                                                        <label style=\"margin-right: 10px;\">\n                                                        <span class=\"lbl text-default\">\n                                                            (                                                            2019-03-25  Pending \n                                                                                                                    <\/span>\n                                                    <\/label>\n                                                                                                                                                                                                <label style=\"margin-right: 10px;\">\n                                                        <span class=\"lbl text-default\">\n                                                                                                                        2019-03-24  \n                                                            <span class=\"text-primary\">\n                                                                Completed \n                                                            <\/span>\n                                                                                                                    <\/span>\n                                                    <\/label>\n                                                                                                                                                                                                <label style=\"margin-right: 10px;\">\n                                                        <span class=\"lbl text-default\">\n                                                                                                                        2019-03-23  \n                                                            <span class=\"text-primary\">\n                                                                Completed \n                                                            <\/span>\n                                                            )                                                        <\/span>\n                                                    <\/label>\n                                                                                                                                                                        <\/div>\n                                <\/div>\n                            <\/div>\n                        <\/form>\n                        <div class=\"table-header\">\n                            \u0e41\u0e1e\u0e49\/\u0e0a\u0e19\u0e30 <span id=\"duration_date\"><\/span> \n                            <span id=\"winLoseMember_header\"><\/span><span id=\"winLoseMember_header_game\"><\/span>\n                        <\/div>\n                        <div class=\"table-responsive\">\n                            <table id=\"tb_winLoseMember\" class=\"table table-striped table-bordered table-hover text-center\">\n                                \n                            <\/table>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <br \/>\n                <div class=\"row hidden\" id=\"pagination\">\n                    <div class=\"col-xs-12\">\n                        <button class=\"btn btn-xs btn-light hidden\"  id=\"btn_prev\">\n                            <i class=\"ace-icon fa fa-arrow-left\"><\/i>\n                            <span class=\"bigger-110\">\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32<\/span>\n                        <\/button>\n                        <button class=\"btn btn-xs btn-success pull-right\" id=\"btn_next\">\n                            <span class=\"bigger-110\">\u0e16\u0e31\u0e14\u0e44\u0e1b<\/span>\n                            <i class=\"ace-icon fa fa-arrow-right icon-on-right\"><\/i>\n                        <\/button>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>\n<div class=\"modal fade in\" id=\"stepDetail\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-body\">\n                <div class=\"table-responsive\" id=\"tb_stepDetail\">\n                <\/div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">\u0e1b\u0e34\u0e14<\/button>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>\n<!-- datepicker -->\n<link rel=\"stylesheet\" href=\"assets\/css\/datepicker.min.css\" \/>\n<link rel=\"stylesheet\" href=\"assets\/css\/bootstrap-datetimepicker.min.css\" \/>\n<link rel=\"stylesheet\" href=\"assets\/css\/daterangepicker.min.css\" \/>\n\n<script type=\"text\/javascript\" src=\"assets\/js\/bootstrap-datepicker.min.js\" async><\/script>\n<script type=\"text\/javascript\" src=\"assets\/js\/moment.min.js\" async><\/script>\n<script type=\"text\/javascript\" src=\"assets\/js\/daterangepicker.min.js\" async><\/script>\n\n<script type=\"text\/javascript\">\n    \n    jQuery(function($) {\n\n        $(\"#begin_date\").datepicker({\n            autoclose: true,\n            todayHighlight: true,\n            dateFormat: 'dd-mm-yyyy'\n        }).datepicker(\"setDate\", \"0\").on('changeDate', function (selected) {\n            var minDate = new Date(selected.date.valueOf());\n            var maxDate = new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate() +45);\n            $('#end_date').datepicker('setStartDate',minDate);\n            $('#end_date').datepicker('setEndDate', maxDate);\n            $('#end_date').datepicker(\"setDate\", minDate);\n        }).datepicker('setEndDate', \"0\");\n        \n        $(\"#end_date\").datepicker({\n            autoclose: true,\n            todayHighlight: true,\n            dateFormat: 'dd-mm-yyyy'\n        }).datepicker(\"setDate\", \"0\").on('changeDate', function (selected) {\n        }).datepicker('setEndDate', \"0\");\n    });\n\n    $('#btn_search').on('click',function(){\n        var last_bill = $('#winLoseMember_header_game span:last-child').text();\n        var last_user = $('#winLoseMember_header span:last-child').text();\n        var suser     = $('#suser').val();\n        var getUl     = $('#winLoseMember_header span:last-child').attr('onclick');\n        var userlist  = \"\";\n        if(getUl != undefined && getUl != ''){\n            var split = getUl.split(',');\n        }\n\n        if (last_bill != '' && suser == ''){\n            $('#winLoseMember_header_game span:last-child').click();\n        }else if(last_user != '' && suser == ''){\n            $('#winLoseMember_header span:last-child').click();\n        }else{\n            if(last_user != ''){\n                getData($.trim(last_user),split[1].replace(\/([\"])\/g, \"\"),split[2].replace(\/([\"])\/g, \"\"),1);\n            }else{\n                getData();\n            }\n        }\n    });\n\n    $('#filter_more').on('click',function(){\n        $('.mobile-mode').toggle('fade');\n    });\n    function parseDMY(value) {\n        var date = value.split(\"-\");\n        var check = false;\n        var d = parseInt(date[0], 10),\n            m = parseInt(date[1], 10),\n            y = parseInt(date[2], 10);\n\n        return new Date(y, m - 1, d);\n    }\n    function getData(uID,uLv,userlist,page,action){\n\n        var suser = $('#suser').val();\n\n        if(action == 'Inbar'){\n            suser = \"\";\n        }\n\n        if(action == 'Intable'){\n            suser = \"\";\n        }\n\n        if(page == undefined || page == '' && suser != undefined || suser != ''){\n            page = 1;\n        }\n\n\n        var tag_user = \"\";\n        var table    = \"\";\n        var duration_date = \"\";\n\n        if($('#begin_date').val() == undefined || $('#begin_date').val() == '' || isNaN(parseDMY($('#begin_date').val()).getDate())){\n            $('#begin_date').css({\"box-shadow\":\"0 0 5px #DE5E47 \",\"margin\":\"5px 1px 3px 0px;\",\"border\":\"1px solid #DE5E47 \"}).click();\n            return false;\n        }else if($('#end_date').val() == undefined || $('#end_date').val() == '' || isNaN(parseDMY($('#end_date').val()).getDate())){\n            $('#end_date').css({\"box-shadow\":\"0 0 5px #DE5E47 \",\"margin\":\"5px 1px 3px 0px;\",\"border\":\"1px solid #DE5E47 \"}).click();\n            return false;\n        }else{\n            $('#reloadWinLoseMember').load('show');\n\n            duration_date = '( '+$('#begin_date').val()+' to '+$('#end_date').val()+' )';\n\n            $('#begin_date').removeAttr(\"style\");\n            $('#end_date').removeAttr(\"style\");\n            $.ajax({\n                url: 'winLossAnalysis\/search',\n                type: 'POST',\n                dataType: 'json',\n                data: {\n                    _token      : $('input[name=_token]').val(),\n                    begin       : $('#begin_date').val(),\n                    end         : $('#end_date').val(),\n                    sc          : ($('input[name=\"cb_soccer\"]').is(':checked'))? \"sc\" : \"\",\n                    st          : ($('input[name=\"cb_step\"]').is(':checked'))? \"st\" : \"\",\n                    sp          : ($('input[name=\"cb_sport\"]').is(':checked'))? \"sp\" : \"\",\n                    gm          : ($('input[name=\"cb_game\"]').is(':checked'))? \"gm\" : \"\",\n                    lr          : ($('input[name=\"cb_lottery\"]').is(':checked'))? \"lr\" : \"\",\n                    lg          : ($('input[name=\"cb_lotto\"]').is(':checked'))? \"lg\" : \"\",\n                    ls          : ($('input[name=\"cb_lottoSet\"]').is(':checked'))? \"ls\" : \"\",\n                    cn          : ($('input[name=\"cb_casino\"]').is(':checked'))? \"cn\" : \"\",\n                    ll          : ($('input[name=\"cb_lottoLao\"]').is(':checked'))? \"ll\" : \"\",\n                    uwinlose    : uID,\n                    ulv         : uLv,\n                    suser       : suser,\n                    grouptype   : $('input[name=radio_group_type]:checked').val(),\n                    userlist    : userlist,\n                    page        : page,\n                },\n            })\n            .done(function(response) {\n                var tbody    = \"\";\n                var tfoot    = \"\";\n                var sum      = [];\n                var sunn     = '';\n                var ubill    = '';\n                if(response.status){\n                    \/* begin title *\/\n                    var ag   = response.result.userlist.split('|');\n                    var lv   = '';\n                    \n                    for (var i = 0; i <= (ag.length -1);i++){\n                        var user  = ag[i].split('_');\n                        var uname = user[1].split('^');\n                        if(i == 0){\n                            lv = user[0];\n                            sunn += lv + '_' + uname[0];\n                            tag_user += '<span class=\"label label-warning arrowed-right cur\" style=\"margin-left: 10px;\" onclick=\"getData(&quot;'+ uname[0] +'&quot;,&quot;'+ lv +'&quot;,'+'&quot;&quot;'+','+page+',\\'Inbar\\');\">'+\n                                            '<i class=\"ace-icon fa fa-user bigger-120\"><\/i> '+ uname[0] +\n                                         '<\/span>';\n                        }else{\n                            if(uname[0]){\n                                lv   = Number(lv) + 1;\n                                sunn += '|' + lv + '_' + uname[0];\n                                tag_user += '<span class=\"label label-warning arrowed-right arrowed-in cur\" onclick=\"getData(&quot;'+ uname[0] +'&quot;,&quot;'+ lv +'&quot;,&quot;'+sunn+'&quot;,'+page+',\\'Inbar\\');\">'+\n                                                '<i class=\"ace-icon fa fa-user bigger-120\"><\/i> '+ uname[0] +\n                                             '<\/span>';\n                            }\n                        }\n                        ubill = lv + '_' + uname[0];\n                    }\n                    \/* end title *\/\n\n                    \/* begin pagination *\/\n                    var u_user = ubill.split('_');\n                    var u_id   = u_user[1];\n                    var u_lv   = u_user[0];\n                    var u_list = sunn;\n                    if(Number(response.result.rows) >= 50){\n                        var pv   = page - 1;\n                        var pn   = page +1;\n                        if(pv < 1){\n                            $('#btn_prev').addClass('hidden');\n                            $('#btn_next').removeClass('hidden');\n                        }else{\n                            $('#btn_prev').removeClass('hidden');\n                            $('#btn_next').removeClass('hidden');\n                        }\n                        $('#btn_prev').attr('onclick','getData(\"'+ u_id +'\",\"'+ u_lv +'\",\"'+ u_list +'\",'+ pv +',\\'Infoot\\');');\n                        $('#btn_next').attr('onclick','getData(\"'+ u_id +'\",\"'+ u_lv +'\",\"'+ u_list +'\",'+ pn +',\\'Infoot\\');');\n                        $('#pagination').removeClass('hidden');\n                    }else{\n                        var pv   = page - 1;\n                        if(pv != 0){\n                            $('#btn_prev').removeClass('hidden');\n                        }else{\n                            $('#btn_prev').addClass('hidden');\n                        }\n                        $('#pagination').removeClass('hidden');\n                        $('#btn_prev').attr('onclick','getData(\"'+ u_id +'\",\"'+ u_lv +'\",\"'+ u_list +'\",'+ pv +',\\'Infoot\\');');\n                        $('#btn_next').addClass('hidden');\n                    }\n                    \/* end pagination *\/\n\n                    if(response.result.data){\n                        var thead = '';\n                        var th    = '';\n                        var col   = 0;\n                        \n                        $.each(response.result.data[1],function(k,v){\n                            sum[k] = 0;\n                        }); \/\/ \u0e1b\u0e23\u0e30\u0e01\u0e32\u0e28\u0e15\u0e31\u0e27\u0e41\u0e1b\u0e23 sum \u0e15\u0e32\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\n\n                        lv    = Number(lv) + 1;\n                        $.each(response.result.data,function(key,val){\n\n                            if(key == 0){\n                                for(var i = 0; i < val.length; i++){\n                                    if(val[i] != 'Company'){\n                                        thead += '<th colspan=\"3\" class=\"text-strong\">'+ val[i] +'<\/th>';\n                                        th += '<th>Win<\/th><th>\u0e04\u0e48\u0e32\u0e04\u0e2d\u0e21<\/th><th>\u0e23\u0e27\u0e21<\/th>';\n                                    }else{\n                                        th += '<th>\u0e04\u0e48\u0e32\u0e04\u0e2d\u0e21<\/th><th>\u0e23\u0e27\u0e21<\/th>';\n                                        thead += '<th colspan=\"2\" class=\"text-strong\">'+ val[i] +'<\/th>';\n                                    }\n                                }\n                            }else{\n                                col   = val.length; \/\/ \u0e08\u0e33\u0e19\u0e27\u0e19 column \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\n                                switch (response.result.grouptype){\n\n                                    case 'u' :\n                                        tbody += '<tr>';\n                                            $.each(val,function(k,v){\n                                                var ulist =  response.result.userlist + '|' + lv +'_'+ v;\n                                                var obj_name = '';\n                                                var utype = '';\n                                                page = 1;\n                                                if(k == 0){\n                                                    obj_name = v.split('^');\n                                                    if(obj_name[1] == undefined || obj_name[1] == \"\"){\n                                                        obj_name[1] = \"\"; \n                                                    }else{\n                                                        obj_name[1] = \"(\"+ obj_name[1] +\")\";\n                                                    }\n                                                    if(obj_name[2] == 'A'){\n                                                        utype = '<i class=\"btn btn-grey btn-minier\"> @ <\/i> ';\n                                                    }else{\n                                                        utype = '<i class=\"btn btn-grey btn-minier\"> M <\/i> ';\n                                                    }\n                                                    tbody += '<td class=\"text-left\"><a href=\"#\" onclick=\"getData(&quot;'+ obj_name[0] +'&quot;,&quot;'+ lv +'&quot;,&quot;'+ ulist +'&quot;,'+page+',\\'Intable\\');\">'+ utype +obj_name[0] +' '+ obj_name[1] +'<\/a><\/td>';\n                                                }else{\n                                                    sum[k] = sum[k] + Number(v.replace(\/,\/g, \"\"));\n                                                    tbody  += '<td class=\"text-right num\">'+ Number(v).toFixed(2) +'<\/td>';\n                                                }\n                                            });\n                                        tbody += '<\/tr>';\n\n                                    break;\n\n                                    case 'd' :\n                                        tbody += '<tr>';\n                                            $.each(val,function(k,v){\n                                                if(k == 0){\n                                                    tbody += '<td class=\"text-left\">'+ v +'<\/td>';\n                                                }else{\n                                                    sum[k] = sum[k] + Number(v.replace(\/,\/g, \"\"));\n                                                    tbody += '<td class=\"text-right num\">'+ Number(v).toFixed(2) +'<\/td>';\n                                                }\n                                            });\n                                        tbody += '<\/tr>';\n                                    break;\n\n                                    case 'm' :\n                                        tbody += '<tr>';\n                                            $.each(val,function(k,v){\n                                                if(k == 0){\n                                                    tbody += '<td class=\"text-left\">'+ v +'<\/td>';\n                                                }else{\n                                                    sum[k] = sum[k] + Number(v.replace(\/,\/g, \"\"));\n                                                    tbody += '<td class=\"text-right num\">'+ Number(v).toFixed(2) +'<\/td>';\n                                                }\n                                            });\n                                        tbody += '<\/tr>';\n                                    break;\n\n                                    case 'g' :\n                                        var game = {\n                                            'sc' : 'Soccer',\n                                            'st' : 'Step',\n                                            'sp' : 'Sport',\n                                            'gm' : 'Game',\n                                            'cn' : 'Casino',\n                                            'lr' : 'Lottery',\n                                            'lg' : 'Lotto',\n                                            'ls' : 'LottoSET',\n                                            'll' : 'LottoLao',\n                                        }\n                                        tbody += '<tr>';\n                                            $.each(val,function(k,v){\n                                                if(k == 0){\n                                                    if($('input[name=radio_group_type]:checked').val() == 'u'){\n                                                        tbody += '<td class=\"text-left\"><a href=\"#\" onclick=\"getBill(&quot;'+ ubill +'&quot;,&quot;'+ game[v] +'&quot;,50,1);\">'+ game[v] +'<\/a><\/td>';\n                                                    }else{\n                                                        tbody += '<td class=\"text-left\">'+ game[v] +'<\/td>';\n                                                    }\n                                                }else{\n                                                    sum[k] = sum[k] + Number(v.replace(\/,\/g, \"\"));\n                                                    tbody += '<td class=\"text-right num\">'+ Number(v).toFixed(2) +'<\/td>';\n                                                }\n                                            });\n                                        tbody += '<\/tr>';\n                                    break;\n                                }\n                            }\n                        }); \n\n                        tfoot += '<tr><td class=\"text-strong\">\u0e23\u0e27\u0e21<\/td>';\n                        for (var i = 1; i < sum.length; i++){\n                            tfoot += '<td class=\"text-right text-strong fnum\" >'+ Number(sum[i]).toFixed(2) +'<\/td>';\n                        };\n                        tfoot += '<\/tr>';\n                        \n                        if(tbody == \"\"){\n                            tbody = '<tr>'+\n                                        '<td colspan=\"'+ col +'\" class=\"text-danger\"> \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 <\/td>'+\n                                    '<\/tr>';\n                        }\n                        table = '<thead>'+\n                                    '<tr>'+\n                                        '<th rowspan=\"2\" class=\"text-strong\"> \u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14 <\/th>'+\n                                        '<th rowspan=\"2\" class=\"text-strong\"> Turnover <\/th>'+\n                                        thead +\n                                    '<\/tr>'+\n                                    '<tr>'+\n                                        th +\n                                    '<\/tr>'+\n                                '<\/thead>'+\n                                '<tbody>'+ tbody +'<\/tbody>'+\n                                '<tfoot>'+ tfoot +'<\/tfoot>';\n                    }\n                }else{\n                    $('#pagination').addClass('hidden');\n                }\n            }).always(function(){\n                if(table == \"\"){\n                    table = '<tbody>'+\n                            '<tr><td class=\"text-danger\"> \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 <\/td><\/tr>'+\n                            '<\/tbody>';\n                }\n                $('#tb_winLoseMember').html(table);\n                $('#winLoseMember_header').html(tag_user);\n                $('#winLoseMember_header_game').html('');\n                $('td.num,span.num').digits();\n                $('td.fnum').digits();\n                $('#reloadWinLoseMember').load('hide');\n                $(\"#duration_date\").html(duration_date);\n            });\n\n        }\n\n    }\n\n    function checkAll(type){\n        if(type == 'all'){\n            $(\".chkGame\").prop('checked', $('input[name=\"all\"]').prop(\"checked\"));\n        }else{\n            var chk = true;\n            $('.chkGame').each(function(){\n                if(!$(this).prop('checked')){\n                    chk = false;\n                }\n            });\n            $('input[name=\"all\"]').prop(\"checked\",chk);\n        }\n    }\n\n\n    function getBill(user,game,no,page){\n        $('#reloadWinLoseMember').load('show');\n\n        var table    = \"\";\n        var u        = user.split('_');\n        var tag_game = \"\";\n        if(page == undefined || page == ''){\n            page = 1;\n        }\n        $.ajax({\n            url: 'winLossAnalysis\/getBill',\n            type: 'GET',\n            dataType: 'json',\n            data: {\n                begin       : $('#begin_date').val(),\n                end         : $('#end_date').val(),\n                muser       : u[1],\n                mlevel      : u[0],\n                page        : page,\n                no          : no,\n                game        : game.toLowerCase(),\n\n            },\n        }).done(function(response) {\n            var col     = 6;\n\n            tag_game += '<span class=\"label label-success arrowed-right arrowed-in cur\" onclick=\"getBill(&quot;'+ user +'&quot;,&quot;'+ game +'&quot;,50,1);\">'+\n                             game +'<\/span>';\n\n            if(response.status){\n                \/* begin pagination *\/\n                if(Number(response.rows) >= 50){\n                    var pv   = Number(page) - 1;\n                    var nv   = Number(no) - 50;\n                    var pn   = Number(page) +1;\n                    var nn   = Number(no) + 50;\n\n                    if(nv < 1){\n                        $('#btn_prev').addClass('hidden');\n                        $('#btn_next').removeClass('hidden');\n                    }else{\n                        $('#btn_prev').removeClass('hidden');\n                        $('#btn_next').removeClass('hidden');\n                    }\n                    $('#btn_prev').attr('onclick','getBill(\"'+ user +'\",\"'+ game +'\",\"'+ nv +'\",\"'+ pv +'\");');\n                    $('#btn_next').attr('onclick','getBill(\"'+ user +'\",\"'+ game +'\",\"'+ nn +'\",\"'+ pn +'\");');\n                    $('#pagination').removeClass('hidden');\n                }else{\n                    var pv   = Number(page) - 1;\n                    var nv   = Number(no) - 50;\n                    if(pv != 0){\n                        $('#btn_prev').removeClass('hidden');\n                    }\n                    $('#pagination').removeClass('hidden');\n                    $('#btn_prev').attr('onclick','getBill(\"'+ user +'\",\"'+ game +'\",\"'+ nv +'\",\"'+ pv +'\");');\n                    $('#btn_next').addClass('hidden');\n                }\n                \/* end pagination *\/\n                table = response.result;\n            }else{\n                $('#pagination').addClass('hidden');\n            }\n\n        }).always(function(){\n            if(table == \"\"){\n                table = '<tbody>'+\n                        '<tr><td class=\"text-danger\"> \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 <\/td><\/tr>'+\n                        '<\/tbody>';\n            }\n            $('#tb_winLoseMember').html(table);\n            $('#winLoseMember_header_game').html(tag_game);\n            $('td.num,span.num').digits();\n            $('#reloadWinLoseMember').load('hide');\n        });\n    }\n\n    function getStepDetail(bet_id){\n\n        $.ajax({\n            url: 'winLossAnalysis\/stepDetail',\n            data: { \n                 bet_id : bet_id\n             },\n            type: 'GET',\n            dataType: 'json',\n            success: function (response) {\n                if(response.status){\n                    $(\"#tb_stepDetail\").html(response.result);\n                    $(\"#stepDetail\").modal('show');\n                }\n                $('span.num').digits();\n            }\n        });\n    }\n<\/script>"}