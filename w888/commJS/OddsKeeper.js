function cloneMainLeague(e){for(var t=[],a=0;a<e.length;a++)"True"==e[a].IsMainMarket&&(t=t.concat(e[a]));return t}function getLeagueName(e){var t=e.split("/");return t[0]="",trim(t.join(""))}function ExistLeague(e,t){for(var a=0;a<LeagueList.length;a++)if(LeagueList[a].LeagueId==t)return!0;if("object"==typeof LeagueListBySport["S"+e])for(a=0;a<LeagueListBySport["S"+e].length;a++)if(LeagueListBySport["S"+e][a].LeagueId==t)return!0;return!1}function makeLeagueList(e,t,a){if(null!=e){for(var n=0,r=0;r<e.length;r++)ExistLeague(t,e[r].LeagueId)||(LeagueList[n]={},LeagueList[n].LeagueId=e[r].LeagueId,LeagueList[n].LeagueName=a?getLeagueName(e[r].LeagueName):e[r].LeagueName,LeagueList[n].SportId=t,LeagueList[n].SportName=fFrame.RES_SPORTS[parseInt(t,10)],void 0===e[r].IsMainMarket?LeagueList[n].IsMainMarket="False":LeagueList[n].IsMainMarket=e[r].IsMainMarket,-1!=indexOf(arr_League,e[r].LeagueId)?LeagueList[n].Checked=!0:LeagueList[n].Checked=!1,n++);"object"==typeof LeagueListBySport["S"+t]?LeagueListBySport["S"+t]=LeagueListBySport["S"+t].concat(LeagueList):(LeagueListBySport["S"+t]={},LeagueListBySport["S"+t]=jQuery.extend(!0,[],LeagueList)),LeagueListBySport["S"+t].sort(function(e,t){return e.LeagueName.localeCompare(t.LeagueName)})}}function getSelLeagueCnt(e){for(var t=0,a=0,n=0,r=[],i=0;i<e.length;i++)e[i].Checked&&t++,void 0===e[i].IsMainMarket?a++:"True"==e[i].IsMainMarket&&(a++,e[i].Checked&&n++);return r[0]=1==SelMainMarket?n:t,r[1]=a,r[2]=t,r}function getLeagueList(){if(2==fFrame.LastSelectedMenu&&(SelMainMarket=0),LeagueListBySport=[],TotlaLeagueCnt=0,TotlaMainLeagueCnt=0,TotlaSelLeagueCnt=0,"object"==typeof arr_ShowMixParlay){var e=new Array,t=new Array;null!=g_OddsKeeper_L&&(e=g_OddsKeeper_L.getOddsKeeperArray()),null!=g_OddsKeeper_D&&(t=g_OddsKeeper_D.getOddsKeeperArray());for(var a in arr_ShowMixParlay){if(LeagueList=[],arr_ShowMixParlay[a]&&null!=e[a]){makeLeagueList((r=e[a]).EventList,a.toString(),!1)}if(LeagueList=[],arr_ShowMixParlay[a]&&null!=t[a]){makeLeagueList((r=t[a]).EventList,a.toString(),!1)}if(void 0!==LeagueListBySport["S"+a]){TotlaLeagueCnt+=LeagueListBySport["S"+a].length;var n=getSelLeagueCnt(LeagueListBySport["S"+a]);TotlaMainLeagueCnt=TotlaLeagueCnt,TotlaSelLeagueCnt+=n[2]}}}else if("object"==typeof arr_OddsKeeper)for(var a in arr_OddsKeeper){LeagueList=[];var r;if(null!=(r=arr_OddsKeeper[a])&&makeLeagueList(r.EventList,a.toString(),!0),void 0!==LeagueListBySport["S"+a]){TotlaLeagueCnt+=LeagueListBySport["S"+a].length;n=getSelLeagueCnt(LeagueListBySport["S"+a]);"1"==a?(TotlaMainLeagueCnt+=n[1],TotlaSelLeagueCnt+=n[0]):(TotlaMainLeagueCnt+=LeagueListBySport["S"+a].length,TotlaSelLeagueCnt+=n[2])}}else{a=null;if(LeagueList=[],"object"==typeof g_OddsKeeper_D&&null!=g_OddsKeeper_D&&(a=g_OddsKeeper_D.SportType,makeLeagueList(g_OddsKeeper_D.EventList,a,!1)),LeagueList=[],"object"==typeof g_OddsKeeper_L&&null!=g_OddsKeeper_L&&(a=g_OddsKeeper_L.SportType,makeLeagueList(g_OddsKeeper_L.EventList,a,!1)),LeagueList=[],"object"==typeof g_OddsKeeper&&null!=g_OddsKeeper&&(a=g_OddsKeeper.SportType,makeLeagueList(g_OddsKeeper.EventList,a,!1)),null!=a){TotlaLeagueCnt=LeagueListBySport["S"+a].length;n=getSelLeagueCnt(LeagueListBySport["S"+a]);TotlaMainLeagueCnt="1"==a?n[1]:LeagueListBySport["S"+a].length,TotlaSelLeagueCnt=n[0]}}checkLeagueCount()}function isFilterLeague(e){return-1!=indexOf(arr_League,"0")||0==TotlaSelLeagueCnt||-1!=indexOf(arr_League,e)}function isFilterMatch(e){return-1!=indexOf(arr_Match,"0")||-1!=indexOf(arr_Match,e)}function CheckOdds1F1H(e,t){if("1"==e){if("1F"==fFrame.DisplayMode){if(OnlyMROdds&&""==t.Value_301&&""==t.OddsId_301&&""==t.Goal_302&&""==t.OddsId_302)return!1;if(NoShowMROdds&&""==t.Value_1&&""==t.OddsId_1&&""==t.Goal_3&&""==t.OddsId_3)return!1}if("1H"==fFrame.DisplayMode){if(OnlyMROdds&&""==t.Value_303&&""==t.OddsId_303&&""==t.Goal_304&&""==t.OddsId_304)return!1;if(NoShowMROdds&&""==t.Value_7&&""==t.OddsId_7&&""==t.Goal_8&&""==t.OddsId_8)return!1}}return!0}function CheckOddsId(e){return void 0!==e&&(null!=e&&""!=e)}function isFilterMROdds(e){return!OnlyMROdds||!!(CheckOddsId(e.OddsId_301)||CheckOddsId(e.OddsId_302)||CheckOddsId(e.OddsId_303)||CheckOddsId(e.OddsId_304))&&!NoShowMROdds}function isFilterMainMarket(e){return 0==SelMainMarket||"True"==e}function isFilterKickoffTime(e){return""==SelKickoffTime||SelKickoffTime==e.substr(0,8)}function OddsKeeper(){function e(e,t){var a=e.document.getElementById(t);return null!=a&&""!=a.title?e.document.getElementById(a.title):a}function t(e){var t="";return void 0!=e&&(t=(t=(t=(t=e.innerHTML).replace(/%7B/g,"{")).replace(/%7D/g,"}")).replace(/[	\n]/g,"")),t}function a(){var e=c.TemplateFrame.document.getElementById(TMPL_TABLE_ID);if(null!=e){var t=e.parentNode.innerHTML;return t=t.substring(0,t.indexOf(e.innerHTML)),t=t.substr(t.lastIndexOf("<"))}return"<table>"}function n(){var e=c.TemplateFrame.document.getElementById(TMPL_COLGROUP_ID);if(null!=e){var t=e.parentNode.innerHTML;return t=t.substring(0,t.indexOf(e.innerHTML)-1),(t=t.substr(t.lastIndexOf("<")))+e.innerHTML+"</colgroup>"}return""}function r(){var e="";return 0==c.EventList.length?"":("True"==c.EventList[0].FlagLive?null==c.SubTitleField&&(e=null==c.TemplateFrame.document.getElementById(TMPL_HEADER_LIVE_ID+"_"+c.SportType)?null==c.TemplateFrame.document.getElementById(TMPL_HEADER_LIVE_ID)?c.TemplateFrame.document.getElementById(TMPL_HEADER_ID).innerHTML:c.TemplateFrame.document.getElementById(TMPL_HEADER_LIVE_ID).innerHTML:c.TemplateFrame.document.getElementById(TMPL_HEADER_LIVE_ID+"_"+c.SportType).innerHTML):e=null==c.TemplateFrame.document.getElementById(TMPL_HEADER_ID+"_"+c.SportType)?null!=c.SubTitleField?"":c.TemplateFrame.document.getElementById(TMPL_HEADER_ID).innerHTML:null!=c.SubTitleField?"":c.TemplateFrame.document.getElementById(TMPL_HEADER_ID+"_"+c.SportType).innerHTML,e)}function i(e){return null==c.SubTitleField?"":c.TemplateFrame.document.getElementById(TMPL_SUBTITLE_ID+"_"+e).innerHTML}function s(e){var t="True"==c.EventList[e].FlagLive?S:m;return t=_replaceTags(c.EventList[e],t),null!=c.afterNewLeague&&(t=c.afterNewLeague(c.EventList,e,t)),t}function d(e){var t,a="True"==c.EventList[e].FlagLive;return t=a?L(t=_replaceTags(c.EventList[e],M),e):_replaceTags(c.EventList[e],C),null!=c.afterNewEvent&&(t=c.afterNewEvent(c.EventList,e,t,a)),t}function l(e){var t,a="True"==c.EventList[e].FlagLive;return t=a?L(t=_replaceTags(c.EventList[e],I),e):_replaceTags(c.EventList[e],D),null!=c.afterNewEvent&&(t=c.afterNewEvent(c.EventList,e,t,a)),t}function o(e){var t,a="True"==c.EventList[e].FlagLive;return t=a?L(t=_replaceTags(c.EventList[e],O),e):_replaceTags(c.EventList[e],y),null!=c.afterNewEvent&&(t=c.afterNewEvent(c.EventList,e,t,a)),t}function L(e,t){if(1==c.SportType&&CurrentLiveInfoMatchID==c.EventList[t].MatchId){var a="";a=-1==e.indexOf("<td")?e.substring(e.indexOf("<TD"),e.indexOf("</TD>")+5):e.substring(e.indexOf("<td"),e.indexOf("</td>")+5),e="3"==fFrame.DisplayMode?e.replace(a,"<td class='text_time' rowspan='2'><b class='IsLive'>"+c.EventList[t].ShowTime+"</b></td>"):e.replace(a,"<td class='text_time'><b class='IsLive'>"+c.EventList[t].ShowTime+"</b></td>")}return e}function h(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=e[t][1],r=e[t][2],i=e[t][3],s=e[t][4],d=e[t][5],l=e[t][6],o=e[t][7],L=F[a];if(null!=L){for(var h=!0;L<c.EventList.length&&c.EventList[L].MUID==a;){var u=c.EventList[L];if(u.FlagLive="True",u.ShowTime=n,u.LivePeriod=s,u.CsStatus=r,u.InjuryTime=i,u.TimerSuspend=o,u.ScoreH!=d||u.ScoreA!=l)u.ScoreH=d,u.ScoreA=l,u.Changed_Score=CLS_UPD,null!=c.afterScoreChanged&&h&&(c.afterScoreChanged(c.EventList,L),h=!1),b[a]=(new Date).getTime();else{var _=b[a];if(null!=_){b[a]=void 0;for(t=L;t<c.EventList.length;t++){if((f=c.EventList[t]).MUID!=a)break;f.Changed_Score=""}}if(null!=(_=P[a])){P[a]=void 0;for(t=L;t<c.EventList.length;t++){var f;if((f=c.EventList[t]).MUID!=a)break;switch(c.SportType){case"2":f.Changed_Score_1Q="",f.Changed_Score_2Q="",f.Changed_Score_3Q="",f.Changed_Score_4Q="",f.Changed_Score_OT="";break;case"3":f.Changed_Score_1Q="",f.Changed_Score_2Q="",f.Changed_Score_3Q="",f.Changed_Score_4Q="",f.Changed_Score_OT="",f.Changed_DOWN="",f.Changed_TOGO="";break;case"4":f.Changed_1s="",f.Changed_2s="",f.Changed_3s="",f.Changed_Score_OT="";break;case"7":f.Changed_1s="",f.Changed_Cfm="",f.Changed_Pt="";break;case"5":case"6":case"9":f.Changed_1s="",f.Changed_2s="",f.Changed_3s="",f.Changed_4s="",f.Changed_5s="",f.Changed_Set="",f.Changed_Pt="";break;case"48":f.Changed_1s="",f.Changed_2s="",f.Changed_3s="",f.Changed_Set="",f.Changed_Pt="";break;case"8":f.Changed_1s="",f.Changed_2s="",f.Changed_3s="",f.Changed_4s="",f.Changed_5s="",f.Changed_6s="",f.Changed_7s="",f.Changed_8s="",f.Changed_9s="",f.Changed_OT="",f.Changed_1b="",f.Changed_2b="",f.Changed_3b="",f.Changed_out=""}}}}L++}H[a]="live"}}}function u(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n){for(;n<c.EventList.length&&c.EventList[n].MUID==a;){var r=c.EventList[n];"True"!=r.FlagLive&&(r.ShowTime=e[t][1]),r.StatsId=e[t][2],r.SportRadar=e[t][3],r.StreamingId=e[t][4],r.Favorite=e[t][5],r.HomeName=e[t][6],r.AwayName=e[t][7],r.KickoffTime=e[t][8],n++}H[a]="Match"}}}function _(e,t){for(var a in A){if(null!=(s=F[a]))for(;s<c.EventList.length&&c.EventList[s].MUID==a;){for(var n=0;n<c.BetTypes.length;n++)c.EventList[s]["Changed_"+c.BetTypes[n]]="";H[a]="oddsClear",s++}}A=new Array;for(n=0;n<e.length;n++){a=e[n][0];for(var r=e[n][1],i=e[n][2],s=F[a],d=_hashData(e[n],ODDS_DEF[r]);s<c.EventList.length&&c.EventList[s].MUID==a;){if(c.EventList[s]["OddsId_"+r]==i){!0,H[c.EventList[s].MUID]="oddsNew";var l=0,o=!1;for(var L in d)l>=3&&c.EventList[s][L]!=d[L]?(905==r&&(c.EventList[s][L.replace("Odds","Changed")]=CLS_UPD),c.EventList[s][L]=d[L],o=!0):l>=3&&905==r&&(c.EventList[s][L.replace("Odds","Changed")]=""),l++;o&&(c.EventList[s]["Changed_"+r]=CLS_UPD,A[c.EventList[s].MUID]=1);break}s++}}}function f(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,i.H1Q==e[t][3]&&i.A1Q==e[t][7]||(i.Changed_Score_1Q=CLS_UPD,r=!0),i.H2Q==e[t][4]&&i.A2Q==e[t][8]||(i.Changed_Score_2Q=CLS_UPD,r=!0),i.H3Q==e[t][5]&&i.A3Q==e[t][9]||(i.Changed_Score_3Q=CLS_UPD,r=!0),i.H4Q==e[t][6]&&i.A4Q==e[t][10]||(i.Changed_Score_4Q=CLS_UPD,r=!0),i.HOT==e[t][11]&&i.AOT==e[t][12]||(i.Changed_Score_OT=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}function g(e){switch(c.SportType){case"2":f(e);break;case"3":!function(e){f(e);for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,i.DOWN!=e[t][14]&&(i.Changed_DOWN=CLS_UPD,r=!0),i.TOGO!=e[t][15]&&(i.Changed_TOGO=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}(e);break;case"4":!function(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,parseInt(e[t][2],10)>0&&(i["H"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+2]&&i["A"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+5]||(i["Changed_"+e[t][2]+"s"]=CLS_UPD,r=!0)),i.HOT==e[t][9]&&i.AOT==e[t][10]||(i.Changed_Score_OT=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}(e);break;case"7":!function(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,i.HFM==e[t][2]&&i.AFM==e[t][3]||(i.Changed_1s=CLS_UPD,r=!0),i.CFM!=e[t][4]&&(i.Changed_Cfm=CLS_UPD,r=!0),i.HPT==e[t][5]&&i.APT==e[t][6]||("0"==e[t][5]&&"0"==e[t][6]?i.Changed_Pt="":i.Changed_Pt=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}(e);break;case"5":case"6":case"9":!function(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,i.HS==e[t][15]&&i.AS==e[t][16]||(i.Changed_Set=CLS_UPD,r=!0),parseInt(e[t][2],10)>0&&(i["H"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+2]&&i["A"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+7]||(i["Changed_"+e[t][2]+"s"]=CLS_UPD,r=!0)),i.HPT==e[t][13]&&i.APT==e[t][14]||("0"==e[t][13]&&"0"==e[t][14]?i.Changed_Pt="":i.Changed_Pt=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}(e);break;case"48":!function(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];r=!1,i.HS==e[t][11]&&i.AS==e[t][12]||(i.Changed_Set=CLS_UPD,r=!0),parseInt(e[t][2],10)>0&&(i["H"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+2]&&i["A"+e[t][2]+"S"]==e[t][parseInt(e[t][2],10)+5]||(i["Changed_"+e[t][2]+"s"]=CLS_UPD,r=!0)),i.HPT==e[t][9]&&i.APT==e[t][10]||("0"==e[t][9]&&"0"==e[t][10]?i.Changed_Pt="":i.Changed_Pt=CLS_UPD,r=!0),r&&(P[a]=(new Date).getTime()),n++}}}(e);break;case"8":!function(e){for(var t=0;t<e.length;t++){var a=e[t][0],n=F[a];if(null!=n)for(var r=!1;n<c.EventList.length&&c.EventList[n].MUID==a;){var i=c.EventList[n];for(r=!1,j=1;j<=9;j++)i["H"+j+"S"]==e[t][j+2]&&i["A"+j+"S"]==e[t][j+11]||(i["Changed_"+j+"s"]=CLS_UPD,r=!0);if(i.HOT==e[t][21]&&i.AOT==e[t][22]||(i.Changed_OT=CLS_UPD,r=!0),i.Battle!=e[t][22]){if("0"==e[t][24]&&"0"==e[t][25]&&"0"==e[t][26])for(j=1;j<=3;j++)i["Changed_"+j+"b"]="";else for(j=1;j<=3;j++)i["B"+j]!=e[t][23+j]&&(i["Changed_"+j+"b"]=CLS_UPD,r=!0);"0"==e[t][27]?i.Changed_out="":i.Out!=e[t][27]&&(i.Changed_out=CLS_UPD,r=!0)}r&&(P[a]=(new Date).getTime()),n++}}}(e)}var t=LIVE_SCORE_DEF[c.SportType];if(t instanceof Array)for(var a=0;a<e.length;a++){var n=e[a][0],r=F[n];if(null!=r){for(;r<c.EventList.length&&c.EventList[r].MUID==n;){for(var i=c.EventList[r],s=1;s<t.length;s++)i[t[s]]=e[a][s];r++}H[n]="LiveScore"}}}function v(e){if(c.slowDelete)for(t=0;t<e.length;t++){for(a=e[t],i=c.EventList.length-1;i>=0;i--)c.EventList[i].MUID==a&&(c.EventList=arrayRemove(c.EventList,i,i),c.HtmlList=arrayRemove(c.HtmlList,i,i));for(i=c.EventList.length-1;i>=0;i--)F[c.EventList[i].MUID]=i;b[a]=null,P[a]=null}else for(var t=0;t<e.length;t++){for(var a=e[t],n=F[a],r=n+1;r<c.EventList.length;){if(c.EventList[r].MUID!=a){r--;break}r++}c.EventList=arrayRemove(c.EventList,n,r),c.HtmlList=arrayRemove(c.HtmlList,n,r);for(var i=c.EventList.length-1;i>=n;i--)F[c.EventList[i].MUID]=i;b[a]=null,P[a]=null}}function T(e,t){for(var a,n,r=0;r<e.length;r++){if(""==(n=_hashData(e[r],c.DataTags)).LeagueId&&(n.LeagueId=a.LeagueId,n.LeagueName=a.LeagueName),""==n.MUID&&(n.MUID=a.MUID,n.MatchId=a.MatchId,n.MatchCode=a.MatchCode,n.HomeName=a.HomeName,n.AwayName=a.AwayName,n.KickoffTime=a.KickoffTime,n.ShowTime=a.ShowTime,n.StatsId=a.StatsId,n.SportRadar=a.SportRadar,n.StreamingId=a.StreamingId,n.Favorite=a.Favorite,n.ScoreH=a.ScoreH,n.ScoreA=a.ScoreA,n.TimerSuspend=a.TimerSuspend,void 0!==LIVE_SCORE_DEF[c.SportType]))for(var i=LIVE_SCORE_DEF[c.SportType],s=0;s<i.length;s++)void 0!==a[i[s]]&&(n[i[s]]=a[i[s]]);var d;null!=c.CustomIdx?d=c.CustomIdx(c.EventList,n):1==c.SortType?(d=c.findIndex("KickoffTime",n.KickoffTime),d=c.adjustIndex1(d,"KickoffTime",n.KickoffTime,n.MatchCode)):(d=c.findIndex("MatchCode",n.MatchCode),d=c.adjustIndex0(d,"MatchCode",n.MatchCode,n.MUID)),a=n,c.EventList=arrayInsert(c.EventList,d,new Array(n)),c.HtmlList=arrayInsert(c.HtmlList,d,new Array("")),H[n.MUID]="ins"}}function p(e){for(var t in e){H[t]="srt";for(var a=e[t],n=F[t],r=n+1;r<c.EventList.length;){if(c.EventList[r].MUID!=t){r--;break}r++}for(var i=c.EventList[n].MatchCode,s=c.EventList.slice(n,r+1),d=c.HtmlList.slice(n,r+1),l=1==c.SortType?"KickoffTime":"MatchCode",o=0;o<s.length;o++)s[o][l]=a;c.EventList=arrayRemove(c.EventList,n,r),c.HtmlList=arrayRemove(c.HtmlList,n,r);var L;1==c.SortType?(L=c.findIndex("KickoffTime",a),L=c.adjustIndex1(L,"KickoffTime",a,i)):(L=c.findIndex("MatchCode",a),L=c.adjustIndex0(L,"MatchCode",a,t)),c.EventList=arrayInsert(c.EventList,L,s),c.HtmlList=arrayInsert(c.HtmlList,L,d);var h=n<L?n:L;for(o=c.EventList.length-1;o>=h;o--)F[c.EventList[o].MUID]=o}}var c=this,E=null,m=void 0,S=void 0,M=void 0,I=void 0,O=void 0,C=void 0,D=void 0,y=void 0,F=new Array,H=new Array,A=new Array,b=new Array,P=new Array;this.DivBase=2,this.HashHeader=null,this.DataTags=null,this.EventList=null,this.HtmlList=null,this.TemplateFrame=null,this.DataFrame=null,this.TableContainer=null,this.BetTypes=null,this.SubTitleField,this.RegenEverytime=!1,this.SortType=0,this.SportType,this.OddsType="4",this.slowDelete=!1,this.getTable=function(){return E},this.setTemplate=function(a){this.TemplateFrame=a;null==(n=e(this.TemplateFrame,TMPL_LEAGUE_ID+"_"+c.SportType))&&(n=e(this.TemplateFrame,TMPL_LEAGUE_ID)),m=_formatTemplate(m=t(n),"{%","}");var n;null==(n=e(this.TemplateFrame,TMPL_LEAGUE_LIVE_ID+"_"+c.SportType))&&(n=e(this.TemplateFrame,TMPL_LEAGUE_LIVE_ID)),S=null==n?m:_formatTemplate(S=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_EVENT_ID+"_"+c.SportType))&&(n=e(this.TemplateFrame,TMPL_EVENT_ID)),C=_formatTemplate(C=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_LIVE_ID+"_"+c.SportType))?(n=this.TemplateFrame.document.getElementById(TMPL_LIVE_ID),M=null==n?C:_formatTemplate(M=t(n),"{%","}")):M=_formatTemplate(M=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_EVENT_MASTER_ID+"_"+c.SportType))?(n=e(this.TemplateFrame,TMPL_EVENT_MASTER_ID),D=null==n?C:_formatTemplate(D=t(n),"{%","}")):D=_formatTemplate(D=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_EVENT_FOOTER_ID+"_"+c.SportType))?(n=e(this.TemplateFrame,TMPL_EVENT_FOOTER_ID),y=null==n?D:_formatTemplate(y=t(n),"{%","}")):y=_formatTemplate(y=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_LIVE_MASTER_ID+"_"+c.SportType))?(n=this.TemplateFrame.document.getElementById(TMPL_LIVE_MASTER_ID),I=null==n?M:_formatTemplate(I=t(n),"{%","}")):I=_formatTemplate(I=t(n),"{%","}"),null==(n=e(this.TemplateFrame,TMPL_LIVE_FOOTER_ID+"_"+c.SportType))?(n=this.TemplateFrame.document.getElementById(TMPL_LIVE_FOOTER_ID),O=null==n?I:_formatTemplate(O=t(n),"{%","}")):O=_formatTemplate(O=t(n),"{%","}")},this.setDatas=function(e,t,a){this.DataTags=t;for(var n=new Array(e.length),r=0,i=0;i<e.length;i++){var s=_hashData(e[i],t);if(""==s.LeagueId){var d=n[i-1];s.LeagueId=d.LeagueId,s.LeagueName=d.LeagueName}if(""==s.MUID){d=n[i-1];if(s.MUID=d.MUID,s.MatchId=d.MatchId,s.MatchCode=d.MatchCode,s.HomeName=d.HomeName,s.AwayName=d.AwayName,s.KickoffTime=d.KickoffTime,s.ShowTime=d.ShowTime,s.StatsId=d.StatsId,s.SportRadar=d.SportRadar,s.StreamingId=d.StreamingId,s.Favorite=d.Favorite,s.TimerSuspend=d.TimerSuspend,s.ScoreH=d.ScoreH,s.ScoreA=d.ScoreA,s.MatchIndex=d.MatchIndex,void 0!==LIVE_SCORE_DEF[c.SportType])for(var l=LIVE_SCORE_DEF[c.SportType],o=0;o<l.length;o++)void 0!==d[l[o]]&&(s[l[o]]=d[l[o]])}else s.MatchIndex=r++;s.Div=s.MatchIndex%this.DivBase,null!=this.afterSetData&&this.afterSetData(i,s,n),n[i]=s}this.EventList=n},this.paintOddsTable=function(){if(getLeagueList(),null!=this.EventList){var e=new Array(this.EventList.length+26);this.HtmlList=new Array(this.EventList.length),e.push(a()),e.push(n()),e.push("<THead>"),e.push(r()),e.push("</THead><TBody>");for(var t,L,h,u,_,f=0;f<this.EventList.length;f++){if(null!=this.SubTitleField){var g=this.EventList[f][this.SubTitleField];_!=g&&(e.push(i(g)),_=g)}var v=!0;void 0!==this.EventList[f].IsMainMarket&&(v=isFilterMainMarket(this.EventList[f].IsMainMarket));var T=this.EventList[f].LeagueId,p=this.EventList[f].MatchId,c=this.EventList[f].KickoffTime;if(T!=t&&isFilterLeague(T)&&v&&isFilterKickoffTime(c)&&isFilterMatch(p)&&isFilterMROdds(this.EventList[f])&&CheckOdds1F1H(this.SportType,this.EventList[f])){var m=s(f);""!=m&&(t=T,e.push(m))}var S=this.EventList[f].MUID;f<this.EventList.length-1&&(h=this.EventList[f+1].MUID),L!=S&&(F[S]=f),u=h!=S||f==this.EventList.length-1?o(f):L==S?d(f):l(f),L=S,this.HtmlList[f]=u,isFilterLeague(T)&&v&&isFilterKickoffTime(c)&&isFilterMatch(p)&&isFilterMROdds(this.EventList[f])&&CheckOdds1F1H(this.SportType,this.EventList[f])&&e.push(u)}e.push("</TBody></Table>");var M=e.join("");fFrame.IsPA&&(M=(M=(M=(M=(M=M.replace(new RegExp("#ffccbc","gi"),"#e6d6fc")).replace(new RegExp("#ffddd2","gi"),"#f2eafd")).replace(new RegExp("#c6d4f1","gi"),"#f1f1f1")).replace(new RegExp("#e4e4e4","gi"),"#ffffff")).replace(new RegExp("#f5eeb8","gi"),"#fefddb")),this.TableContainer.innerHTML=M,E=null,E=this.TableContainer.childNodes[0],null!=this.afterRepaintTable&&this.afterRepaintTable(E,this.EventList)}},this.refreshSportTypeOddsTable=function(e,t,a,n,r,i,s,d,l){this.TableContainer.innerHTML="",H=new Array,u(i),h(r),_(s),null!=this.updateAppendFields&&this.updateAppendFields(d,this.EventList,F,H),null!=l&&g(l),v(t),p(a),T(n),this.regenTableHtml()},this.refreshOddsTable=function(e,t,a,n,r,i,s,d){this.TableContainer.innerHTML="",H=new Array,u(r),h(n),_(i),null!=this.updateAppendFields&&this.updateAppendFields(s,this.EventList,F,H),null!=d&&g(d),v(e),p(t),T(a),this.regenTableHtml()},this.findDataIndex=function(e,t){for(var a=0;a<this.EventList.length;a++)if(this.EventList[a][e]==t)return a;return-1},this.findIndex=function(e,t){var a,n=0,r=this.EventList.length-1;if(0==this.EventList.length)return 0;if(t>=this.EventList[r][e])return r+1;if(t<this.EventList[n][e])return n;for(;n<=r;){a=Math.ceil((n+r)/2);var i=this.EventList[a][e];if(i<t)n=a+1;else if(i>t)r=a-1;else for(a+=1;a<this.EventList.length;a++)if(this.EventList[a][e]!=t)return a}for(a+1>=this.EventList.length&&(a=this.EventList.length-2),a+=1;a>=0;a--)if(this.EventList[a][e]<=t)return a+1;return 0},this.adjustIndex0=function(e,t,a){for(var n=e-1;n>=0&&this.EventList[n].MatchCode==t;n--)if(this.EventList[n].MUID>=a)return n+1;return e},this.adjustIndex1=function(e,t,a){for(var n=e-1;n>=0&&this.EventList[n].KickoffTime==t;n--)if(this.EventList[n].MatchCode>=a)return n+1;return e},this.adjustIndex1st=function(e,t,a,n){var r;for(r=e-1;r>=0&&this.EventList[r][t]==a&&this.EventList[r].MUID!=n;r--);var i;for(i=r;i>=0&&this.EventList[i][t]==a&&this.EventList[i].MUID==n;i--);return i+1},this.regenTableHtml=function(){getLeagueList(),F=new Array;var e=new Array;e.push(a()),e.push(n()),e.push("<THead>"+r()+"</THead><TBody>");for(var t,L,h,u,_,f="-1",g=0;g<this.EventList.length;g++){if(null!=this.SubTitleField){var v=this.EventList[g][this.SubTitleField];u!=v&&(e.push(i(v)),u=v)}var T=this.EventList[g],p=!0;void 0!==this.EventList[g].IsMainMarket&&(p=isFilterMainMarket(this.EventList[g].IsMainMarket)),t=T.LeagueId,_=T.MatchId;var m=this.EventList[g].KickoffTime;if(t!=L&&isFilterLeague(t)&&p&&isFilterKickoffTime(m)&&isFilterMatch(_)&&isFilterMROdds(this.EventList[g])&&CheckOdds1F1H(this.SportType,this.EventList[g])){var S=s(g);""!=S&&(L=t,e.push(S))}var M,I=this.EventList[g].MUID;g<this.EventList.length-1&&(M=this.EventList[g+1].MUID),h!=I?(F[I]=g,T.MatchIndex=++f):T.MatchIndex=f;var O=T.MatchIndex%this.DivBase;(c.RegenEverytime||null!=H[T.MUID]||T.Div!=O)&&(T.Div=O,M!=I||g==this.EventList.length-1?this.HtmlList[g]=o(g):this.HtmlList[g]=h!=I?l(g):d(g)),h=I,isFilterLeague(t)&&p&&isFilterKickoffTime(m)&&isFilterMatch(_)&&isFilterMROdds(this.EventList[g])&&CheckOdds1F1H(this.SportType,this.EventList[g])&&e.push(this.HtmlList[g])}e.push("</TBody></Table>");var C=e.join("");fFrame.IsPA&&(C=(C=(C=(C=(C=C.replace(new RegExp("#ffccbc","gi"),"#e6d6fc")).replace(new RegExp("#ffddd2","gi"),"#f2eafd")).replace(new RegExp("#c6d4f1","gi"),"#f1f1f1")).replace(new RegExp("#e4e4e4","gi"),"#ffffff")).replace(new RegExp("#f5eeb8","gi"),"#fefddb")),this.TableContainer.innerHTML=C,E=null,E=this.TableContainer.childNodes[0],null!=this.afterRepaintTable&&this.afterRepaintTable(E,this.EventList)},this.modifyOddsType=function(e,t,a){var n=["Odds_1_H","Odds_1_A","Odds_2_O","Odds_2_E","Odds_3_O","Odds_3_U","Odds_7_H","Odds_7_A","Odds_8_O","Odds_8_U","Odds_12_O","Odds_12_E","Odds_20_H","Odds_20_A","Odds_21_H","Odds_21_A"];if(null!=e)for(var r=0;r<e.length;r++)for(var i=0;i<n.length;i++){var s=e[r][n[i]];s&&(e[r][n[i]]=oddsTypeFormula(s,t,a))}return e}}function ConvertIndoOdds(e){return e>0?(-(e=e>.79?Math.floor(1/e*100)/100:Math.ceil(1/e*100)/100)).toFixed(2):e<-.79?(e=Math.round(Math.floor(100*Math.abs(1/e)))/100).toFixed(2):(e=Math.round((Math.ceil(100*Math.abs(1/e))+.01)/100*100)/100).toFixed(2)}function _replaceTags(e,t){var a=new Array(2*t.length-1);a[0]=t[0];for(var n,r=1;r<t.length;r++)a[(n=2*r)-1]=e[t[r][0]],a[n]=t[r][1];return a.join("").replace(/td>\s+<td/g,"td><td")}function replaceTags(e,t){return _replaceTags(e,_formatTemplate(t,"{%","}"))}function _formatTemplate(e,t,a){for(var n=e.split(t),r=1;r<n.length;r++){var i=n[r].indexOf(a);n[r]=[n[r].substr(0,i),n[r].substr(i+1,n[r].length-i)]}return n}function _hashData(e,t){for(var a=new Array,n=Math.min(e.length,t.length),r=0;r<n;r++)a[t[r]]=e[r];if("/UnderOver.php"==location.pathname)for(var i=["Odds_5_1","Odds_5_2","Odds_5_X","Odds_15_1","Odds_15_2","Odds_15_X","Odds_301_H","Odds_301_A","Odds_302_O","Odds_302_U","Odds_303_H","Odds_303_A","Odds_304_O","Odds_304_U"],s=0;s<i.length;s++)a[i[s]]&&""!=a[i[s]]&&(a[i[s]]=parseFloat(a[i[s]]).toFixed(2));return a}function ConvertOdds(e,t,a){var n=ARR_TWOWAY_MAP[1];if("/UnderOver.php"==location.pathname&&-1!=indexOf(Object.keys(n),t)&&-1!=indexOf(Object.keys(e),n[t][1])&&""!=e[t]&&""!=e[n[t][1]]){var r,i,s=""==n[t][0]?"":e[n[t][0]];return n[t][2]?(r=parseFloat(e[t]),i=parseFloat(e[n[t][1]]),spreadCalculation("h"==s?1:"a"==s?-1:""==s?0:s,"h",r,i,a)):(r=parseFloat(e[n[t][1]]),i=parseFloat(e[t]),spreadCalculation("a"==s?1:"h"==s?-1:""==s?0:s,"a",i,r,a))}return e[t]}function arrayRemove(e,t,a){if(null==a&&(a=t),t>a)return e.concat([]);t<0&&(t=0),a>=e.length&&(a=e.length-1);var n=e.slice(0,t),r=e.slice(a+1);return n.concat(r)}function arrayInsert(e,t,a){if(t<=0)return a.concat(e);if(t>=e.length)return e.concat(a);var n=e.slice(0,t),r=e.slice(t);return(n=n.concat(a)).concat(r)}function SimpleOddsKeeper(){function e(e,t){var a=new Array(2*t.length-1);a[0]=t[0];for(var n,r=1;r<t.length;r++)a[(n=2*r)-1]=e[t[r][0]],a[n]=t[r][1];return a.join("")}this.TableContainer=null,this.DivTmpl=null,this.newHash=new Array,this.oHash=new Array,this.MUID=null,this.MatchId=null,this.isParlay="false",this.Market="",this.OddsHTML="",this.setDatas=function(e,t){this.oHash=function(e,t,a){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)a[t[r]]=e[r];return a}(e,t,this.oHash)},this.AppendOddsTable=function(){var t,a=this.DivTmpl;null!=this.oHash&&(t=_formatTemplate(a,"{%","}"),a=e(this.oHash,t)),null!=this.newHash&&(t=_formatTemplate(a,"{@","}"),a=e(this.newHash,t)),this.OddsHTML=this.OddsHTML+a},this.paintOddsTable=function(){var t;if(this.TableContainer.innerHTML=this.DivTmpl,null!=this.oHash&&(t=_formatTemplate(this.TableContainer.innerHTML,"{%","}"),this.TableContainer.innerHTML=e(this.oHash,t)),null!=this.newHash&&(t=_formatTemplate(this.TableContainer.innerHTML,"{@","}"),this.TableContainer.innerHTML=e(this.newHash,t)),fFrame.IsPA){var a=this.TableContainer.innerHTML;a=(a=(a=(a=(a=a.replace(new RegExp("#ffccbc","gi"),"#e6d6fc")).replace(new RegExp("#ffddd2","gi"),"#f2eafd")).replace(new RegExp("#c6d4f1","gi"),"#f1f1f1")).replace(new RegExp("#e4e4e4","gi"),"#ffffff")).replace(new RegExp("#f5eeb8","gi"),"#fefddb"),this.TableContainer.innerHTML=a}},this.updateOdds=function(e,t,a){for(var n=0;n<a.length;n++)for(var r=1;r<MultiSportODDS_DEF[parseInt(a[n],10)].length;r++){if(e[MultiSportODDS_DEF[parseInt(a[n],10)][r]]!=t[MultiSportODDS_DEF[parseInt(a[n],10)][r]]){t["Changed_"+a[n]]=CLS_UPD;break}t["Changed_"+a[n]]=""}return t}}var TMPL_TABLE_ID="tmplTable",TMPL_COLGROUP_ID="tmplColgroup",TMPL_HEADER_ID="tmplHeader",TMPL_HEADER_LIVE_ID="tmplHeader_L",TMPL_SUBTITLE_ID="tmplSubTitle",TMPL_LEAGUE_ID="tmplLeague",TMPL_LEAGUE_LIVE_ID="tmplLeague_L",TMPL_LIVE_ID="tmplLive",TMPL_LIVE_MASTER_ID="tmplLiveMaster",TMPL_LIVE_FOOTER_ID="tmplLiveFooter",TMPL_EVENT_ID="tmplEvent",TMPL_EVENT_MASTER_ID="tmplEventMaster",TMPL_EVENT_FOOTER_ID="tmplEventFooter",CLS_UPD="Odds_Upd",CLS_SAME="Odds_Same",CLS_LS_OFF="displayOff",CLS_LS_ON="displayOn",CLS_LS_Hide="displayHidden",LeagueListBySport=[],LeagueList=[],TotlaLeagueCnt=0,TotlaMainLeagueCnt=0,TotlaSelLeagueCnt=0,arr_League=new Array("0"),arr_Match=new Array("0"),CurrentLiveInfoMatchID="0",IsSaveLeague=!1,ARR_TWOWAY_MAP={1:{Odds_1_H:["FavorF","Odds_1_A",!0],Odds_1_A:["FavorF","Odds_1_H",!1],Odds_3_O:["Goal_3","Odds_3_U",!0],Odds_3_U:["Goal_3","Odds_3_O",!1],Odds_7_H:["FavorH1","Odds_7_A",!0],Odds_7_A:["FavorH1","Odds_7_H",!1],Odds_8_O:["Goal_8","Odds_8_U",!0],Odds_8_U:["Goal_8","Odds_8_O",!1]}},OnlyMROdds=!1,NoShowMROdds=!1,SelMainMarket=0,SelKickoffTime="",oddsTypeFormula=function(e,t,a){var n=parseFloat(e);if("1"==t)"2"==a?n-=1:"4"==a&&(n=parseFloat(oddsTypeFormula(n-1,"2","4")));else if("2"==t)"1"==a?n+=1:"4"==a&&(n=n>1?-Math.floor(1/n*100)/100:n);else if("4"==t)if("1"==a)n=n<0?Math.floor(100*(-1/n+1))/100:n+1;else if("2"==a)n=n<0?Math.floor(-1/n*100)/100:n;else if("3"==a)return ConvertIndoOdds(n);return n.toFixed(2)},spreadCalculation=function(e,t,a,n,r){if(0==a)return"0.00";var i=a-fFrame.FSiteSpread;return a>0&&i<.01&&(i=.01),i<-1&&(i+=2),a=i,"number"==typeof e?((e>0&&a<0||e<0&&a>0)&&(i=Floor(i)),(e>0&&a>0||e<0&&a<0)&&(i=MidpointRoundingAwayFromZero(i)),0==e&&(i=a>0&&n>0?a>n?Floor(i):a<n?MidpointRoundingAwayFromZero(i):"h"==t?MidpointRoundingAwayFromZero(i):Floor(i):MidpointRoundingAwayFromZero(i))):(("h"==t&&a<0||"a"==t&&a>0)&&(i=Floor(i)),("h"==t&&a>0||"a"==t&&a<0)&&(i=MidpointRoundingAwayFromZero(i))),oddsTypeFormula(i,"4",r||fFrame.OddsType)},Floor=function(e){return e>=0?Math.floor(100*e+1e-4)/100:-Math.floor(100*Math.abs(e)+1e-4)/100},MidpointRoundingAwayFromZero=function(e){return e>=0?Math.round(100*e+1e-4)/100:-Math.round(100*Math.abs(e)+1e-4)/100},GetConvertOdds=function(e,t,a){if("/UnderOver.php"==location.pathname){for(var n=Object.keys(ARR_TWOWAY_MAP[1]),r=0;r<n.length;r++)t[n[r]]=ConvertOdds(e,n[r],a);return t}return e},storeTwoWayOdds=function(e){if("/UnderOver.php"==location.pathname){for(var t=Object.keys(ARR_TWOWAY_MAP[1]),a={},n=0;n<t.length;n++)a[t[n]]=e[t[n]],e[t[n]]=ConvertOdds(e,t[n]);return a}return null},restoreTwoWayOdds=function(e,t){for(var a=Object.keys(t),n=0;n<a.length;n++)e[a[n]]=t[a[n]]};