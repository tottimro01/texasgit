if(typeof(gameTableList)=="undefined"){gameTableList={}}(function(){var j=0;var E=null;var e=null;var t=null;var A={};var J={};var f=[];var p=[];var I=function(){var Q=$j("#bigRoadTableTemplate");var O=$j(document.createDocumentFragment());for(var S=0;S<PageSetting.maxRoadHeight.value;S++){var N=JCache.clone("#bigRoadTrTemplate").prop("id","bigTr");for(var M=0;M<PageSetting.maxRoadWidth.value;M++){N.append(JCache.clone("#bigRoadTdTemplate").prop("id","bigRoadTd_"+M+"_"+S))}O.append(N)}Q.append(O);var P=$j("#sicBigRoadTableTemplate");var R=$j(document.createDocumentFragment());for(var S=0;S<3;S++){var N=JCache.clone("#bigRoadTrTemplate").prop("id","bigTr");for(var M=1;M<=PageSetting.maxRoadWidth.value;M++){N.append(JCache.clone("#sicBigRoadTdTemplate1").prop("id","bigRoadTd_"+M+"_"+S))}R.append(N)}for(var S=3;S<PageSetting.maxRoadHeight.value;S++){var N=JCache.clone("#bigRoadTrTemplate").prop("id","bigTr");for(var M=1;M<=PageSetting.maxRoadWidth.value;M++){N.append(JCache.clone("#sicBigRoadTdTemplate2").prop("id","bigRoadTd_"+M+"_"+S))}R.append(N)}P.append(R)};var w=function(){if((typeof parent.singleTable4!="undefined")&&(typeof parent.singleTable4.hideTableList==="function")){E=parent.singleTable4}if((typeof parent.multiTable4!="undefined")&&(typeof parent.multiTable4.hideTableList==="function")){E=parent.multiTable4}if((typeof parent.singleSicTable!="undefined")&&(typeof parent.singleSicTable.hideTableList==="function")){E=parent.singleSicTable}if((typeof parent.quickBetGoodRoad!="undefined")&&(typeof parent.quickBetGoodRoad.checkInitGameTableListFinish==="function")){e=parent.quickBetGoodRoad}if((typeof parent.quickBetTxn!="undefined")&&(typeof parent.quickBetTxn.redrawSetQuickBet==="function")){t=parent.quickBetTxn}};gameTableList.init=function(){f=$j.parseJSON(PageConfig.speedTableIDs);p=$j.parseJSON(PageConfig.insuranceTableIDs);w();F();JCache.get("#close").click(function(){gameTableList.quickBetAllClose();if(E!=null){E.hideTableList()}})};gameTableList.resize=function(){JCache.get("#tableList").getNiceScroll().resize();JCache.get("#tableList").scrollTop(0)};gameTableList.syncTableBetLimitID=function(O){var P=A[O.tableID].tableSupportGame;var N=J[O.betLimitID].minBet;var M=J[O.betLimitID].maxBet;if(P==TableSupportGameType.SicBo.value||P==TableSupportGameType.FishPrawnCrab.value){N=J[O.betLimitID].sicMinBet;M=J[O.betLimitID].sicMaxBet}A[O.tableID].tableBetLimitID=O.betLimitID;A[O.tableID].domTableBetLimit.html(I18N.get("form.text.limit")+" : "+CurrencyUtil.format(N)+"-"+CurrencyUtil.format(M))};var i=function(M){return function(){u(M)}};var u=function(P){if(!A[P].tableBetLimitID||A[P].tableBetLimitID<=0){return}var O=A[P].tableBetLimitID;var Q=A[P].tableSupportGame;var N=J[O].minBet;var M=J[O].maxBet;if(Q==TableSupportGameType.SicBo.value||Q==TableSupportGameType.FishPrawnCrab.value){N=J[O].sicMinBet;M=J[O].sicMaxBet}A[P].domTableBetLimit.html(I18N.get("form.text.limit")+" : "+CurrencyUtil.format(N)+"-"+CurrencyUtil.format(M));if(E!=null){BetLimitSettingUtil.setUserBetLimitIDCache({dealerDomain:PageConfig.dealerDomain,tableID:P,betLimitID:O});E.chooseTableChannel(P,O)}JCache.get("#close").click()};var d=function(O,N){if(A[N].position<0){var M=PageSetting.movePx.value;if(A[N].position+M>0){M=-1*A[N].position}JCache.get("#bigRoad"+N+" > .road_con").animate({left:"+="+M+"px"});A[N].position=A[N].position+M}if(A[N].multiPosition<0){var M=PageSetting.movePx.value;if(A[N].multiPosition+M>0){M=-1*A[N].multiPosition}if(E!=null){E.triggerMainRoadAnimeLeft(N,M)}A[N].multiPosition=A[N].multiPosition+M}};var h=function(P,O,N,M){N=(N==undefined)?PageSetting.movePx.value:N;M=M==undefined?PageSetting.movePx.value:M;JCache.get("#bigRoad"+O+" > .road_con").animate({left:"-="+N+"px"});A[O].position=A[O].position-N;if(E!=null){E.triggerMainRoadAnimeRight(O,N,M);A[O].multiPosition=A[O].multiPosition-M}};var F=function(){postAjax({url:"/casino/sexy/player/query/queryGameHallActiveBetLimit.php",data:{domainType:PageConfig.dealerDomain},success:function(M){if(M==null||M.status!="200"){return}var N=$j.parseJSON(M.message);if(!$j.isEmptyObject(N)){$j.each(N,function(O,P){J[P.id]={};J[P.id].id=P.id;J[P.id].maxBet=P.maxBet;J[P.id].minBet=P.minBet;J[P.id].minChip=P.minChip;J[P.id].sicMaxBet=P.sicMaxBet;J[P.id].sicMinBet=P.sicMinBet;J[P.id].sicMinChip=P.sicMinChip})}I();B();g()}})};var B=function(){postAjax({url:"/casino/sexy/player/query/queryTableListInfoV2.php",data:{domainType:PageConfig.dealerDomain},success:function(M){x(M);if(e!=null){e.readyInitGameTableListFinish()}v.check();TaskExecuter.execute()},error:function(M){Trace.debug(M)}})};var x=function(ab){var R=new Map();if(PageConfig.userBetLimitIDCache!=null){$j.each(PageConfig.userBetLimitIDCache,function(ad,ae){R.put(Number(ad),Number(ae))})}var V=[];for(var Q=0;Q<TableSupportGameType.getLength;Q++){V[Q]=false}var U=j;for(var Q=0;Q<ab.message.length;Q++){var Z=ab.message[Q];if(!A[Z.tableID]){A[Z.tableID]={}}var ac=JCache.clone("#bigRoadTemplate").css("display","").prop("id","tableID"+Z.tableID);ac.bind("mouseleave",k(Z.tableID));ac.children().eq(1).children().eq(4).children().eq(1).prop("id","bigRoad"+Z.tableID);A[Z.tableID].dealerDomain=Z.dealerDomainVal;A[Z.tableID].tableID=Z.tableID;A[Z.tableID].currentShoe=-1;A[Z.tableID].currentRound=-1;A[Z.tableID].lastResultShoe=-1;A[Z.tableID].lastResultRound=-1;A[Z.tableID].tableSupportGame=Z.tableSupportGame;A[Z.tableID].tableSupportGameName=(Z.tableSupportGame==TableSupportGameType.DragonTiger.value?"dra":"bac");A[Z.tableID].goodRoadType=null;A[Z.tableID].prevGoodRoadJson="";A[Z.tableID].currGoodRoadJson="";A[Z.tableID].quickBetOpen=false;A[Z.tableID].newGameStart=false;A[Z.tableID].countdown=0;A[Z.tableID].countdownTrigger=true;A[Z.tableID].stampTime=0;A[Z.tableID].bigShowX=0;A[Z.tableID].position=0;A[Z.tableID].multiPosition=0;A[Z.tableID].latestBigStampTime=0;A[Z.tableID].baccaratRepaintTime=0;A[Z.tableID].domShowRound=ac.find("#showRound");A[Z.tableID].domPlayMask=ac.children().eq(1).children().eq(0);A[Z.tableID].domPhoto=ac.children().eq(1).children().eq(2);A[Z.tableID].domHistory=ac.children().eq(1).children().eq(4);A[Z.tableID].domCardZone=ac.children().eq(1).children().eq(5);A[Z.tableID].domBetZone=ac.children().eq(1).children().eq(6);A[Z.tableID].domRedirect=ac.children().eq(1).children().eq(0);A[Z.tableID].domRedirect.unbind("click").bind("click",i(Z.tableID));var W=(R.containsKey(Z.tableID))?R.get(Z.tableID):PageConfig.userBetLimitID;var X=J[W].minBet;var aa=J[W].maxBet;if(Z.tableSupportGame==TableSupportGameType.SicBo.value||Z.tableSupportGame==TableSupportGameType.FishPrawnCrab.value){X=J[W].sicMinBet;aa=J[W].sicMaxBet}A[Z.tableID].domTableBetLimit=ac.children().eq(0).children().eq(1).children().eq(0);A[Z.tableID].domTableBetLimit.html(I18N.get("form.text.limit")+" : "+CurrencyUtil.format(X)+"-"+CurrencyUtil.format(aa));A[Z.tableID].domTableBetLimit.bind("click",G(Z.tableID));A[Z.tableID].domTableBetLimitIcon=ac.children().eq(0).children().eq(1).children().eq(1);A[Z.tableID].domTableBetLimitIcon.bind("click",G(Z.tableID));A[Z.tableID].tableBetLimitID=PageConfig.userBetLimitID;A[Z.tableID].domUlBetLimits=ac.children().eq(0).children().eq(1).children().eq(2);var O=$j(document.createDocumentFragment());var S=JCache.clone("#liCloseTemplate").removeAttr("id");S.bind("click",G(Z.tableID));O.append(S);for(var Y in J){var M=JCache.clone("#templateLi").removeAttr("id");X=J[Y].minBet;aa=J[Y].maxBet;if(Z.tableSupportGame==TableSupportGameType.SicBo.value||Z.tableSupportGame==TableSupportGameType.FishPrawnCrab.value){X=J[Y].sicMinBet;aa=J[Y].sicMaxBet}M.html(CurrencyUtil.format(X)+"-"+CurrencyUtil.format(aa));M.unbind("click").bind("click",l(Z.tableID,J[Y].id));O.append(M)}A[Z.tableID].domUlBetLimits.append(O);if(Z.tableSupportGame==TableSupportGameType.Baccarat.value&&ArrayUtil.contains(f,Z.tableID)&&!ArrayUtil.contains(p,Z.tableID)){ac.find("#tableID").parent().addClass("speed_mode");ac.find("#tableID").html("<span>"+I18N.get("form.text.speed")+"</span> "+I18N.get("form.text.table")+" "+Z.tableID)}else{if(Z.tableSupportGame==TableSupportGameType.Baccarat.value&&!ArrayUtil.contains(f,Z.tableID)&&ArrayUtil.contains(p,Z.tableID)){ac.find("#tableID").html(I18N.get("form.text.insurance")+" "+I18N.get("form.text.table")+" "+Z.tableID)}else{ac.find("#tableID").html(I18N.get("form.text.table")+" "+Z.tableID)}}ac.find("#countdown").bind("updateCountdown",a);A[Z.tableID].pokerCards=new Array(PokerCardIndexType.getLength());for(var T=0,N=PokerCardIndexType.getLength();T<N;T++){var P=PokerCardIndexType.getInstance(T);A[Z.tableID].pokerCards[T]={};A[Z.tableID].pokerCards[T].domCard=ac.find("#"+P.domNameQuickBet);A[Z.tableID].pokerCards[T].domAnimeCard=ac.find("#"+P.domAnimeQuickBet)}A[Z.tableID].domPlayerHandValue=ac.children().eq(1).children().eq(5).children().eq(0).children().eq(0).children().eq(0).children().eq(1);A[Z.tableID].domBankerHandValue=ac.children().eq(1).children().eq(5).children().eq(0).children().eq(1).children().eq(0).children().eq(1);A[Z.tableID].domWinnerPlayer=ac.children().eq(1).children().eq(5).children().eq(0).children().eq(0);A[Z.tableID].domWinnerBanker=ac.children().eq(1).children().eq(5).children().eq(0).children().eq(1);A[Z.tableID].domWinner=ac.children().eq(1).children().eq(5).children().eq(0).children().eq(2);A[Z.tableID].winnerValue=GameWinnerType.EMPTY.value;A[Z.tableID].bankerWinnerCnt=0;A[Z.tableID].playerWinnerCnt=0;A[Z.tableID].tieWinnerCnt=0;A[Z.tableID].bankerWinner=ac.children().eq(1).children().eq(4).children().eq(2).children().eq(1).children().eq(1);A[Z.tableID].playerWinner=ac.children().eq(1).children().eq(4).children().eq(2).children().eq(1).children().eq(3);A[Z.tableID].tieWinner=ac.children().eq(1).children().eq(4).children().eq(2).children().eq(1).children().eq(5);A[Z.tableID].cancel=ac.children().eq(1).children().eq(6).children().eq(2).children().eq(1);A[Z.tableID].cancel.bind("click",m(Z.tableID));A[Z.tableID].cancelNoWork=true;A[Z.tableID].confirm=ac.children().eq(1).children().eq(6).children().eq(2).children().eq(0);A[Z.tableID].confirm.bind("click",D(Z.tableID,null));A[Z.tableID].confirmNoWork=true;A[Z.tableID].successfulMsg=ac.children().eq(1).children().eq(7);A[Z.tableID].unsuccessfulMsg=ac.children().eq(1).children().eq(8);V[Z.tableSupportGame]=true;if(Z.tableSupportGame==TableSupportGameType.Baccarat.value){if(ArrayUtil.contains(f,Z.tableID)){ac.children().eq(1).children().eq(4).addClass("speed_mode")}else{if(ArrayUtil.contains(p,Z.tableID)){ac.children().eq(1).children().eq(4).addClass("ins_mode")}}ac.children().eq(1).children().eq(5).children().eq(0).children().eq(0).children().eq(0).children().eq(0).html(I18N.get("form.text.category.player1"));ac.children().eq(1).children().eq(5).children().eq(0).children().eq(1).children().eq(0).children().eq(0).html(I18N.get("form.text.category.banker1"));ac.children().eq(1).children().eq(6).children().eq(0).children().eq(0).css("display","");ac.children().eq(1).children().eq(6).children().eq(0).children().eq(2).css("display","");ac.children().eq(1).children().eq(6).children().eq(0).children().eq(4).css("display","");A[Z.tableID].domUl=new Array(3);A[Z.tableID].domUl[CategoryType.Player.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(0).children().eq(0);A[Z.tableID].domUl[CategoryType.Tie.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(2).children().eq(0);A[Z.tableID].domUl[CategoryType.Banker.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(4).children().eq(0);A[Z.tableID].betBox=new Array(3);A[Z.tableID].betBox[CategoryType.Player.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(0);A[Z.tableID].betBox[CategoryType.Player.value].css("display","");A[Z.tableID].betBox[CategoryType.Player.value].bind("click",n(Z.tableID,CategoryType.Player.value));A[Z.tableID].betBox[CategoryType.Tie.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(2);A[Z.tableID].betBox[CategoryType.Tie.value].css("display","");A[Z.tableID].betBox[CategoryType.Tie.value].bind("click",n(Z.tableID,CategoryType.Tie.value));A[Z.tableID].betBox[CategoryType.Banker.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(4);A[Z.tableID].betBox[CategoryType.Banker.value].css("display","");A[Z.tableID].betBox[CategoryType.Banker.value].bind("click",n(Z.tableID,CategoryType.Banker.value));A[Z.tableID].pokerCards[PokerCardIndexType.Player3rdCard.value].domAnimeCard.css("display","none");A[Z.tableID].pokerCards[PokerCardIndexType.Banker3rdCard.value].domAnimeCard.css("display","none");A[Z.tableID].domQuickBet=ac.children().eq(1).children().eq(1).children().eq(1);A[Z.tableID].domQuickBet.css("display","");A[Z.tableID].domQuickBet.unbind("click").bind("click",L(Z.tableID))}else{if(Z.tableSupportGame==TableSupportGameType.DragonTiger.value){ac.children().eq(1).children().eq(4).addClass("dragon_tiger");ac.children().eq(1).children().eq(5).children().eq(0).addClass("dragon_tiger");ac.children().eq(1).children().eq(5).children().eq(0).children().eq(0).children().eq(0).children().eq(0).html(I18N.get("form.text.category.dragon1"));ac.children().eq(1).children().eq(5).children().eq(0).children().eq(1).children().eq(0).children().eq(0).html(I18N.get("form.text.category.tiger1"));ac.children().eq(1).children().eq(6).addClass("dragon_tiger");ac.children().eq(1).children().eq(6).children().eq(0).children().eq(1).css("display","");ac.children().eq(1).children().eq(6).children().eq(0).children().eq(3).css("display","");ac.children().eq(1).children().eq(6).children().eq(0).children().eq(5).css("display","");A[Z.tableID].domUl=new Array(3);A[Z.tableID].domUl[CategoryType.Player.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(1).children().eq(0);A[Z.tableID].domUl[CategoryType.Tie.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(3).children().eq(0);A[Z.tableID].domUl[CategoryType.Banker.value]=ac.children().eq(1).children().eq(6).children().eq(0).children().eq(5).children().eq(0);A[Z.tableID].betBox=new Array(3);A[Z.tableID].betBox[LongHuCategoryType.Dragon.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(1);A[Z.tableID].betBox[LongHuCategoryType.Dragon.value].css("display","");A[Z.tableID].betBox[LongHuCategoryType.Dragon.value].bind("click",n(Z.tableID,LongHuCategoryType.Dragon.value));A[Z.tableID].betBox[LongHuCategoryType.Tie.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(3);A[Z.tableID].betBox[LongHuCategoryType.Tie.value].css("display","");A[Z.tableID].betBox[LongHuCategoryType.Tie.value].bind("click",n(Z.tableID,LongHuCategoryType.Tie.value));A[Z.tableID].betBox[LongHuCategoryType.Tiger.value]=ac.children().eq(1).children().eq(6).children().eq(1).children().eq(5);A[Z.tableID].betBox[LongHuCategoryType.Tiger.value].css("display","");A[Z.tableID].betBox[LongHuCategoryType.Tiger.value].bind("click",n(Z.tableID,LongHuCategoryType.Tiger.value));A[Z.tableID].pokerCards[PokerCardIndexType.Player2ndCard.value].domAnimeCard.css("display","none");A[Z.tableID].pokerCards[PokerCardIndexType.Player3rdCard.value].domAnimeCard.css("display","none");A[Z.tableID].pokerCards[PokerCardIndexType.Banker2ndCard.value].domAnimeCard.css("display","none");A[Z.tableID].pokerCards[PokerCardIndexType.Banker3rdCard.value].domAnimeCard.css("display","none");A[Z.tableID].domQuickBet=ac.children().eq(1).children().eq(1).children().eq(1);A[Z.tableID].domQuickBet.css("display","");A[Z.tableID].domQuickBet.unbind("click").bind("click",L(Z.tableID))}else{if(Z.tableSupportGame==TableSupportGameType.SicBo.value||Z.tableSupportGame==TableSupportGameType.FishPrawnCrab.value){ac.children().eq(1).children().eq(4).addClass("sicbo");A[Z.tableID].domQuickBet=ac.children().eq(1).children().eq(1).children().eq(1);A[Z.tableID].domQuickBet.css("display","none")}else{if(Z.tableSupportGame==TableSupportGameType.Roulette.value){ac.children().eq(1).children().eq(4).addClass("sicbo");A[Z.tableID].domQuickBet=ac.children().eq(1).children().eq(1).children().eq(1);A[Z.tableID].domQuickBet.css("display","none")}}}}ac.children().eq(1).children().eq(4).children().eq(1).children().eq(0).unbind().bind("click",d);ac.children().eq(1).children().eq(4).children().eq(1).children().eq(1).unbind().bind("click",h);if(Z.tableSupportGame==TableSupportGameType.Baccarat.value||Z.tableSupportGame==TableSupportGameType.DragonTiger.value||Z.tableSupportGame==TableSupportGameType.Roulette.value){ac.find("#bigRoad").append(JCache.clone("#bigRoadTableTemplate > tr"));ac.find("#bigRoad td").unbind().bind("resultPaint",RoadHandler.paintMainRoad).bind("resultPaintRou",RoadHandler.paintRouRedBlacklRoad).bind("addGoodRoad",RoadHandler.paintGoodRoadAdd).bind("delGoodRoad",RoadHandler.paintGoodRoadDel)}else{if(Z.tableSupportGame==TableSupportGameType.SicBo.value||Z.tableSupportGame==TableSupportGameType.FishPrawnCrab.value){ac.find("#bigRoad").append(JCache.clone("#sicBigRoadTableTemplate > tr"))}else{}}if(Z.tableSupportGame==TableSupportGameType.Baccarat.value){JCache.get("#bacTable").append(ac)}else{if(Z.tableSupportGame==TableSupportGameType.DragonTiger.value){JCache.get("#draTable").append(ac)}else{if(Z.tableSupportGame==TableSupportGameType.SicBo.value){JCache.get("#sicTable").append(ac)}else{if(Z.tableSupportGame==TableSupportGameType.FishPrawnCrab.value){JCache.get("#fpcTable").append(ac)}else{if(Z.tableSupportGame==TableSupportGameType.Roulette.value){JCache.get("#rouTable").append(ac)}else{}}}}}}};var L=function(M){return function(){if(!A[M].quickBetOpen){A[M].quickBetOpen=true;if(A[M].newGameStart){gameTableList.quickBetOpenShowRoad({tableID:M})}else{gameTableList.quickBetOpenShowPokerCard({tableID:M})}for(cacheTableID in A){if(M==cacheTableID){continue}if(A[cacheTableID].quickBetOpen){A[cacheTableID].quickBetOpen=false;gameTableList.quickBetClose({tableID:cacheTableID});H(cacheTableID)}}}else{A[M].quickBetOpen=false;gameTableList.quickBetClose({tableID:M});H(M)}JCache.get("#tableList").getNiceScroll().resize()}};var k=function(M){return function(){b(M)}};var b=function(M){if(A[M].domUlBetLimits.css("display")!="none"){A[M].domUlBetLimits.css("display","none")}};var G=function(M){return function(){r(M)}};var r=function(M){if(A[M].domUlBetLimits.css("display")=="none"){A[M].domUlBetLimits.css("display","inline")}else{A[M].domUlBetLimits.css("display","none")}};var l=function(M,N){return function(){var Q=A[M].tableSupportGame;var P=J[N].minBet;var O=J[N].maxBet;if(Q==TableSupportGameType.SicBo.value||Q==TableSupportGameType.FishPrawnCrab.value){P=J[N].sicMinBet;O=J[N].sicMaxBet}A[M].tableBetLimitID=N;A[M].domTableBetLimit.html(I18N.get("form.text.limit")+" : "+CurrencyUtil.format(P)+"-"+CurrencyUtil.format(O));A[M].domRedirect.click();r(M)}};var n=function(M,N){return function(){if(t!=null){t.addStakeQuickBet(M,N)}}};var m=function(M){return function(){H(M)}};var H=function(M){if(t!=null){t.removeAddStakeQuickBet(M)}};var D=function(M,N){return function(){if(t!=null){t.confirmAllStakeQuickBet(M,N)}}};gameTableList.redrawSetQuickBet=function(M){for(var R=0,O=M.redraw.length;R<O;R++){if(M.redraw[R]){A[M.tableID].domUl[R].removeClass();var Q=$j(document.createDocumentFragment());if(M.stake[R]>0&&M.addStake[R]==0){var N=[];y(ChipType.getLength()-1,M.stake[R],N);for(var U=0;U<N.length;U++){Q.append(N[U])}Q.append(s(M.stake[R]))}else{if(M.stake[R]==0&&M.addStake[R]>0){var S=[];y(ChipType.getLength()-1,M.addStake[R],S);A[M.tableID].domUl[R].addClass("unconfirmed");for(var U=0;U<S.length;U++){Q.append(S[U])}Q.append(s(M.addStake[R]));Q.append(c(M.tableID,R))}else{if(M.stake[R]>0&&M.addStake[R]>0){var N=[];y(ChipType.getLength()-1,M.stake[R],N);A[M.tableID].domUl[R].addClass("add");for(var U=0;U<N.length;U++){Q.append(N[U])}Q.append(K(M.stake[R]));var S=[];var T=$j(document.createDocumentFragment());y(ChipType.getLength()-1,M.addStake[R],S);for(var U=0;U<S.length;U++){T.append(S[U])}T.append(s(M.addStake[R]));T.append(c(M.tableID,R));var V=JCache.clone("#templateDiv");V.removeAttr("id").removeAttr("style");V.addClass("add_chips");V.append(T);Q.append(V)}}}A[M.tableID].domUl[R].empty();A[M.tableID].domUl[R].append(Q)}}var P=false;for(var R=0,O=M.addStake.length;R<O;R++){if(M.addStake[R]>0){P=true}}if(A[M.tableID].newGameStart){if(P==true){if(A[M.tableID].cancelNoWork==true){A[M.tableID].cancelNoWork=false;A[M.tableID].cancel.removeClass("no_work")}if(A[M.tableID].confirmNoWork==true){A[M.tableID].confirmNoWork=false;A[M.tableID].confirm.removeClass("no_work")}}else{if(A[M.tableID].cancelNoWork==false){A[M.tableID].cancelNoWork=true;A[M.tableID].cancel.addClass("no_work")}if(A[M.tableID].confirmNoWork==false){A[M.tableID].confirmNoWork=true;A[M.tableID].confirm.addClass("no_work")}}}else{if(A[M.tableID].cancelNoWork==false){A[M.tableID].cancelNoWork=true;A[M.tableID].cancel.addClass("no_work")}if(A[M.tableID].confirmNoWork==false){A[M.tableID].confirmNoWork=true;A[M.tableID].confirm.addClass("no_work")}}};var s=function(N){var M=JCache.clone("#templateLi");M.removeAttr("id").addClass("money").html(CurrencyUtil.showAmountByCurrency(N,PageConfig.currencyId));return M};var K=function(N){var M=JCache.clone("#templateLi");M.removeAttr("id").addClass("old_money").html(CurrencyUtil.showAmountByCurrency(N,PageConfig.currencyId));return M};var c=function(M,O){var N=JCache.clone("#templateLi");N.removeAttr("id").addClass("check_btn").html("Confirm");N.bind("click",C(M,O));return N};var C=function(M,N){return function(){if(t!=null){t.confirmStakeQuickBet(M,N)}}};var y=function(P,M,O){if(O.length>=8||M<1){return O}var N=ChipType.getInstance(P);var R=Math.floor(MathUtil.decimal.divide(M,N.amount));var S=MathUtil.decimal.subtract(M,MathUtil.decimal.multiply(R,N.amount));for(var Q=0;Q<R;Q++){var T=JCache.clone("#templateLi");T.removeAttr("id");T.addClass(N.className);O[O.length]=T;if(O.length>=8){break}}y(P-1,S,O)};gameTableList.syncCurrentShoeRoundQuickBet=function(M){A[M.tableID].currentShoe=M.gameShoe;A[M.tableID].currentRound=M.gameRound;A[M.tableID].domShowRound.html(I18N.get("form.text.game")+" : "+M.gameShoe+" / "+M.gameRound)};gameTableList.winnerAnimationHideQuickBet=function(N){for(var M=0;M<A[N.tableID].betBox.length;M++){if(A[N.tableID].betBox[M].hasClass("win")){A[N.tableID].betBox[M].removeClass("win").addClass("no_win")}}};gameTableList.quickBetAllClose=function(){for(tableID in A){if(A[tableID].quickBetOpen){A[tableID].quickBetOpen=false;gameTableList.quickBetClose({tableID:tableID});H(tableID)}}};gameTableList.quickBetOpenShowRoad=function(M){A[M.tableID].domPlayMask.css("display","none");A[M.tableID].domPhoto.css("display","");A[M.tableID].domHistory.css("display","");A[M.tableID].domCardZone.css("display","none");A[M.tableID].domBetZone.css("display","")};gameTableList.quickBetOpenShowPokerCard=function(M){A[M.tableID].domPlayMask.css("display","none");A[M.tableID].domPhoto.css("display","none");A[M.tableID].domHistory.css("display","none");A[M.tableID].domCardZone.css("display","");A[M.tableID].domBetZone.css("display","")};gameTableList.quickBetClose=function(M){A[M.tableID].domPlayMask.css("display","");A[M.tableID].domPhoto.css("display","");A[M.tableID].domHistory.css("display","");A[M.tableID].domCardZone.css("display","none");A[M.tableID].domBetZone.css("display","none")};gameTableList.quickBetAnimeCardShow=function(M){A[M.tableID].pokerCards[M.index].domAnimeCard.css("display","")};gameTableList.quickBetAnimeCard=function(M){if(M.className!="open"&&M.className!="none"){if(PageConfig.isIE=="1"){A[M.tableID].pokerCards[M.index].domAnimeCard.children().eq(1).css("backface-visibility","visible")}else{A[M.tableID].pokerCards[M.index].domAnimeCard.addClass("flipped")}}A[M.tableID].pokerCards[M.index].domCard.removeClass().addClass("back").addClass(M.className);A[M.tableID].pokerCards[M.index].domCard.html(M.cardPoint);if(A[M.tableID].tableSupportGame==TableSupportGameType.Baccarat.value){A[M.tableID].domPlayerHandValue.html(M.playerHandValue);A[M.tableID].domBankerHandValue.html(M.bankerHandValue)}else{A[M.tableID].domPlayerHandValue.html(PokerCardUtil.getDragonTigerCardPoint(M.playerHandValue));A[M.tableID].domBankerHandValue.html(PokerCardUtil.getDragonTigerCardPoint(M.bankerHandValue))}};gameTableList.dealerEventBetTimeQuickBet=function(N){A[N.tableID].newGameStart=true;if(N.other){return}if(A[N.tableID].quickBetOpen){gameTableList.quickBetOpenShowRoad({tableID:N.tableID})}for(var M=0,O=A[N.tableID].betBox.length;M<O;M++){A[N.tableID].betBox[M].removeClass("win no_win")}for(var M=0;M<A[N.tableID].pokerCards.length;M++){A[N.tableID].pokerCards[M].domAnimeCard.removeClass();A[N.tableID].pokerCards[M].domAnimeCard.children().eq(1).css("backface-visibility","hidden")}A[N.tableID].pokerCards[PokerCardIndexType.Player3rdCard.value].domAnimeCard.css("display","none");A[N.tableID].pokerCards[PokerCardIndexType.Banker3rdCard.value].domAnimeCard.css("display","none");A[N.tableID].domPlayerHandValue.html("0");A[N.tableID].domBankerHandValue.html("0")};gameTableList.dealerEventCommonQuickBet=function(N){A[N.tableID].newGameStart=false;if(N.other){return}if(A[N.tableID].quickBetOpen){gameTableList.quickBetOpenShowPokerCard({tableID:N.tableID})}for(var M=0,O=A[N.tableID].betBox.length;M<O;M++){A[N.tableID].betBox[M].removeClass("win").addClass("no_win")}A[N.tableID].domWinnerPlayer.removeClass("win");A[N.tableID].domWinnerBanker.removeClass("win")};gameTableList.dealerEventWinnerQuickBet=function(M){A[M.tableID].newGameStart=false;if(M.other){return}if(A[M.tableID].quickBetOpen){gameTableList.quickBetOpenShowPokerCard({tableID:M.tableID})}if(M.win){A[M.tableID].betBox[M.index].removeClass("win").addClass("no_win")}else{A[M.tableID].betBox[M.index].removeClass("no_win").addClass("win")}};gameTableList.dealerEventWinnerTypeQuickBet=function(N){A[N.tableID].domWinner.fadeOut();A[N.tableID].domWinner.fadeIn();if(A[N.tableID].tableSupportGame==TableSupportGameType.Baccarat.value){var M=GameWinnerType.getInstance(DealerEventUtil.getWinnerBaccarat({winner:N.winner,tableCards:N.tableCards}));A[N.tableID].winnerValue=M.value;A[N.tableID].domWinner.removeClass().addClass(M.displayQuickBetCss);switch(M){case GameWinnerType.BANKER:A[N.tableID].winnerBanker=true;A[N.tableID].domWinnerBanker.addClass("win");A[N.tableID].domWinner.html(I18N.get("form.text.winner.banker"));break;case GameWinnerType.PLAYER:A[N.tableID].winnerPlayer=true;A[N.tableID].domWinnerPlayer.addClass("win");A[N.tableID].domWinner.html(I18N.get("form.text.winner.player"));break;case GameWinnerType.TIE:A[N.tableID].domWinner.html(I18N.get("form.text.winner.tie"));break;default:A[N.tableID].domWinner.html("");break}}else{var M=GameWinnerLongHuType.getInstance(DealerEventUtil.getWinnerLongHu({winner:N.winner,tableCards:N.tableCards}));A[N.tableID].winnerValue=M.value;A[N.tableID].domWinner.removeClass().addClass(M.displayQuickBetCss);switch(M){case GameWinnerLongHuType.TIGER:A[N.tableID].domWinnerBanker.addClass("win");A[N.tableID].domWinner.html(I18N.get("form.text.winner.tiger"));break;case GameWinnerLongHuType.DRAGON:A[N.tableID].domWinnerPlayer.addClass("win");A[N.tableID].domWinner.html(I18N.get("form.text.winner.dragon"));break;case GameWinnerLongHuType.TIE:A[N.tableID].domWinner.html(I18N.get("form.text.winner.tie"));break;default:A[N.tableID].domWinner.html("");break}}A[N.tableID].domWinner.fadeOut();A[N.tableID].domWinner.fadeIn()};gameTableList.successMsgShowQuickBet=function(M){A[M.tableID].successfulMsg.html(M.msg);A[M.tableID].successfulMsg.fadeIn()};gameTableList.successMsgHideQuickBet=function(M){A[M.tableID].successfulMsg.fadeOut()};gameTableList.unsuccessfulMsgShowQuickBet=function(M){A[M.tableID].unsuccessfulMsg.html(M.msg);A[M.tableID].unsuccessfulMsg.fadeIn()};gameTableList.unsuccessfulMsgHideQuickBet=function(M){A[M.tableID].unsuccessfulMsg.fadeOut()};gameTableList.reloadMaintenanceTitle=function(N){JCache.get("#bacTableTitle").css("display","none");JCache.get("#draTableTitle").css("display","none");JCache.get("#sicTableTitle").css("display","none");JCache.get("#fpcTableTitle").css("display","none");for(var M=0;M<N.showListArray.length;M++){JCache.get(N.showListArray[M]).css("display","")}};var v={cycleTime:3,cycleTick:0,execute:function(){var O=j-PageSetting.queryGapTime.value;if(O<0){O=0}var P=[];for(var N in A){var M={};M.domainType=A[N].dealerDomain;M.tableID=A[N].tableID;if(A[N].stampTime>PageSetting.queryGapTime.value){M.stampTime=A[N].stampTime-PageSetting.queryGapTime.value}else{M.stampTime=A[N].stampTime}P.push(M)}try{postAjax({url:"/casino/sexy/player/query/queryActiveTableResultTrend2.php",data:{tableLists:JSON.stringify(P)},success:function(Q){q(Q)}})}finally{this.check();TaskExecuter.execute()}},check:function(){var M=this;if(this.cycleTick==0){this.cycleTick=this.cycleTime;TaskExecuter.addTask(this)}else{if(this.cycleTick>0){this.cycleTick--}setTimeout(function(){M.check()},1000)}}};var o=function(N,O){var M=A[N].latestBigStampTime;if(M==undefined){M=0;A[N].latestBigStampTime=M}if(typeof O!="undefined"){$j.each(O,function(P,Q){if(Q.showX>A[N].bigShowX){A[N].bigShowX=Q.showX}})}A[N].latestBigStampTime=z("#tableID"+N,N,O,M,A[N].bigShowX,A[N].position,A[N].multiPosition,10,20,18)};var z=function(R,S,N,X,V,M,U,P,Q,T){if(typeof N!="undefined"&&N.length>0&&N[0].stampTime>X&&V>=P){var W=V-P+(M/Q);W+=1;W=W*Q;var O=V-P+(U/T);O+=1;O=O*T;JCache.get(R).find(".go_right").trigger("click",[S,W,O]);return N[0].stampTime}return X};var q=function(P){var Z=P.message;var T=j;$j.each(Z.countdown,function(aa,ac){var ab=(ac.betTime-(P.timestamp-ac.roundStartTime))/1000;if(PageConfig.enableMexicoWebHls="1"){ab=ab+PageConfig.hlsAdditionalBetTime}ab=ab>0?ab:0;if(A[ac.tableID].newGameStart){A[ac.tableID].countdown=parseInt(ab)}});if(!$j.isEmptyObject(Z.bigRoad)){for(var R=0;R<Z.bigRoad.length;R++){var W=Z.bigRoad[R];if($j.isEmptyObject(W)){continue}if(A[W.tableID].bankerWinnerCnt!=W.winnerCounts[0]){A[W.tableID].bankerWinnerCnt=W.winnerCounts[0];A[W.tableID].bankerWinner.html(W.winnerCounts[0])}if(A[W.tableID].playerWinnerCnt!=W.winnerCounts[1]){A[W.tableID].playerWinnerCnt=W.winnerCounts[1];A[W.tableID].playerWinner.html(W.winnerCounts[1])}if(A[W.tableID].tieWinnerCnt!=W.winnerCounts[2]){A[W.tableID].tieWinnerCnt=W.winnerCounts[2];A[W.tableID].tieWinner.html(W.winnerCounts[2])}A[W.tableID].lastResultRound=W.gameRound;if(W.shuffle==1){if(E==parent.singleTable4||E==parent.multiTable4){E.gameInfoMsgShuffle(W.tableID)}JCache.get("#tableID"+W.tableID+" .game_info").css("display","")}else{if(E==parent.singleTable4||E==parent.multiTable4){E.gameInfoMsgShuffleHide(W.tableID)}JCache.get("#tableID"+W.tableID+" .game_info").css("display","none")}if(A[W.tableID].tableID!=W.tableID||A[W.tableID].lastResultShoe!=W.gameShoe||(W.repaintTime>A[W.tableID].baccaratRepaintTime)){JCache.get("#tableID"+W.tableID+" #goodRoad").removeClass().html("");JCache.get("#tableID"+W.tableID+" #bigTr > td").removeClass();JCache.get("#tableID"+W.tableID+" #bigTr > td > div").css("display","none").removeClass();JCache.get("#tableID"+W.tableID+" #bigTr > td > p").css("display","none");A[W.tableID].tableID=W.tableID;A[W.tableID].lastResultShoe=W.gameShoe;A[W.tableID].baccaratRepaintTime=W.repaintTime;A[W.tableID].goodRoadType=null;A[W.tableID].prevGoodRoadJson="";A[W.tableID].currGoodRoadJson="";if(A[W.tableID].position<0){JCache.get("#bigRoad"+W.tableID+" > .road_con").animate({left:"+="+Math.abs(A[W.tableID].position)+"px"})}if(E!=null&&A[W.tableID].multiPosition<0){E.triggerMainRoadAnimeLeft(W.tableID,Math.abs(A[W.tableID].multiPosition))}A[W.tableID].position=0;A[W.tableID].multiPosition=0;A[W.tableID].bigShowX=0;j=0;if(E!=null){E.triggerGoodRoadAllDel(W.tableID)}if(e!=null){e.goodRoadHintByTableID(W.tableID,null,"")}continue}if(typeof W.mainRoads!="undefined"){$j.each(W.mainRoads,function(ab,aa){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+aa.showX+"_"+aa.showY).trigger("resultPaint",{tieCount:aa.tieCount,results:aa.resultMainRoad});if(E!=null){E.triggerMainRoad(W.tableID,aa.showX,aa.showY,aa.tieCount,aa.resultMainRoad)}T=Math.max(T,aa.stampTime)});A[W.tableID].stampTime=j;o(W.tableID,W.mainRoads);if(A[W.tableID].currentRound!=A[W.tableID].lastResultRound){if(typeof W.goodRoadType!="undefined"){if(A[W.tableID].goodRoadType!=W.goodRoadType){A[W.tableID].goodRoadType=W.goodRoadType;var Y="";var S=GoodRoadType.getInstance(A[W.tableID].goodRoadType);if(S!=null){if(S==GoodRoadType.Road_1||S==GoodRoadType.Road_2){if(W.currGoodRoadJson!=""){var X=$j.parseJSON($j.parseJSON(W.currGoodRoadJson));if(!$j.isEmptyObject(X)){Y="("+X.length+")"}}}JCache.get("#tableID"+W.tableID+" #goodRoad").removeClass().addClass(S.className).html(I18N.get("form.text.goodRoad."+A[W.tableID].tableSupportGameName+"."+S.value)+Y)}else{JCache.get("#tableID"+W.tableID+" #goodRoad").removeClass().html("")}if(e!=null){e.goodRoadHintByTableID(W.tableID,S,Y)}}}if(typeof W.prevGoodRoadJson!="undefined"){if(A[W.tableID].prevGoodRoadJson!=W.prevGoodRoadJson){A[W.tableID].prevGoodRoadJson=W.prevGoodRoadJson;if(A[W.tableID].prevGoodRoadJson!=""){var M=$j.parseJSON($j.parseJSON(A[W.tableID].prevGoodRoadJson));if(!$j.isEmptyObject(M)){$j.each(M,function(ab,aa){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+aa.road).trigger("delGoodRoad",{type:aa.type});if(E!=null){E.triggerGoodRoadDel(W.tableID,aa.road,aa.type)}})}}}}if(typeof W.currGoodRoadJson!="undefined"){if(A[W.tableID].currGoodRoadJson!=W.currGoodRoadJson){A[W.tableID].currGoodRoadJson=W.currGoodRoadJson;if(A[W.tableID].currGoodRoadJson!=""){var M=$j.parseJSON($j.parseJSON(A[W.tableID].currGoodRoadJson));if(!$j.isEmptyObject(M)){var S=GoodRoadType.getInstance(A[W.tableID].goodRoadType);if(S!=null&&(S==GoodRoadType.Road_1||S==GoodRoadType.Road_2)){JCache.get("#tableID"+W.tableID+" #goodRoad").removeClass().addClass(S.className).html(I18N.get("form.text.goodRoad."+A[W.tableID].tableSupportGameName+"."+S.value)+"("+M.length+")");if(e!=null){e.goodRoadHintByTableID(W.tableID,S,"("+M.length+")")}}$j.each(M,function(ab,aa){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+aa.road).trigger("addGoodRoad",{type:aa.type});if(E!=null){E.triggerGoodRoadAdd(W.tableID,aa.road,aa.type)}})}}}}}}if(e!=null){e.winnerCounts(W.tableID,W.winnerCounts)}}}if(!$j.isEmptyObject(Z.sicBigRoad)){for(var R=0;R<Z.sicBigRoad.length;R++){var W=Z.sicBigRoad[R];if($j.isEmptyObject(W)){continue}A[W.tableID].lastResultRound=W.gameRound;if(A[W.tableID].tableID!=W.tableID||A[W.tableID].lastResultShoe!=W.gameShoe){JCache.get("#tableID"+W.tableID+" #bigTr:eq(0) > td").removeClass();JCache.get("#tableID"+W.tableID+" #bigTr:eq(1) > td").removeClass();JCache.get("#tableID"+W.tableID+" #bigTr:eq(2) > td").removeClass();JCache.get("#tableID"+W.tableID+" #bigTr:eq(3) > td").removeClass().html("");JCache.get("#tableID"+W.tableID+" #bigTr:eq(4) > td").removeClass().html("");JCache.get("#tableID"+W.tableID+" #bigTr:eq(5) > td").removeClass().html("");A[W.tableID].tableID=W.tableID;A[W.tableID].lastResultShoe=W.gameShoe;A[W.tableID].goodRoadType=null;A[W.tableID].prevGoodRoadJson="";A[W.tableID].currGoodRoadJson="";if(A[W.tableID].position<0){JCache.get("#bigRoad"+W.tableID+" > .road_con").animate({left:"+="+Math.abs(A[W.tableID].position)+"px"})}if(E!=null&&A[W.tableID].multiPosition<0){E.triggerMainRoadAnimeLeft(W.tableID,Math.abs(A[W.tableID].multiPosition))}A[W.tableID].position=0;A[W.tableID].multiPosition=0;A[W.tableID].bigShowX=0;j=0;continue}if(typeof W.markerRoads!="undefined"){var O=A[W.tableID].tableSupportGame==TableSupportGameType.SicBo.value?true:false;var V=null;if(O){V=TableSupportGameType.SicBo.gamehallClass}else{V=TableSupportGameType.FishPrawnCrab.gamehallClass}for(var Q=0;Q<W.markerRoads.length;Q++){var U=W.markerRoads[Q];if(U.showX>A[W.tableID].bigShowX){A[W.tableID].bigShowX=U.showX}for(var N=0;N<3;N++){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_"+N).addClass(V[U.dices[N]])}if(U.bigSmall.toLowerCase()=="small"){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_3").addClass("dot-s-blue").html(I18N.get("form.text.road.word.small"))}else{if(U.bigSmall.toLowerCase()=="big"){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_3").addClass("dot-s-red").html(I18N.get("form.text.road.word.big"))}}if(O){if(U.oddEven.toLowerCase()=="odd"){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_4").addClass("dot-s-blue").html(I18N.get("form.text.road.word.odd"))}else{if(U.oddEven.toLowerCase()=="even"){JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_4").addClass("dot-s-red").html(I18N.get("form.text.road.word.even"))}}JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_5").addClass((U.totalValue<=10?"dot-s-blue":"dot-s-red")).html(U.totalValue)}else{JCache.get("#tableID"+W.tableID+" #bigRoadTd_"+U.showX+"_4").addClass((U.totalValue<=10?"dot-s-blue":"dot-s-red")).html(U.totalValue)}T=Math.max(T,U.stampTime)}}A[W.tableID].stampTime=j;o(W.tableID,W.markerRoads);if(A[W.tableID].bankerWinnerCnt!=W.winCounts[0]){A[W.tableID].bankerWinnerCnt=W.winCounts[0];A[W.tableID].bankerWinner.html(W.winCounts[0])}if(A[W.tableID].playerWinnerCnt!=W.winCounts[1]){A[W.tableID].playerWinnerCnt=W.winCounts[1];A[W.tableID].playerWinner.html(W.winCounts[1])}if(A[W.tableID].tieWinnerCnt!=W.winCounts[2]){A[W.tableID].tieWinnerCnt=W.winCounts[2];A[W.tableID].tieWinner.html(W.winCounts[2])}}}j=Math.max(j,T)};var g=function(){for(tableID in A){var M=$j.Event("updateCountdown");M.tableID=tableID;JCache.get("#tableID"+tableID+" #countdown").trigger(M)}setTimeout(function(){g()},1000)};var a=function(M){if(A[M.tableID].countdown>0){A[M.tableID].countdownTrigger=true;A[M.tableID].countdown=A[M.tableID].countdown-1;JCache.get("#tableID"+M.tableID+" #countdown").html(A[M.tableID].countdown+"<span>"+I18N.get("msg.info.sec")+"</span>");if(e!=null){e.goodRoadTime(M.tableID,A[M.tableID].countdown)}}else{if(A[M.tableID].countdownTrigger){A[M.tableID].countdownTrigger=false;JCache.get("#tableID"+M.tableID+" #countdown").html("0<span>"+I18N.get("msg.info.sec")+"</span>");if(e!=null){e.goodRoadTime(M.tableID,"0")}}}}})();