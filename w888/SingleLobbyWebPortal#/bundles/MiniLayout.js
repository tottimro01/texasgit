function formatCurrency(n){n=n.toString().replace(/\$|\,/g,"");isNaN(n)&&(n="0");sign=n==(n=Math.abs(n));n=Math.floor(n*100+.50000000001);cents=n%100;n=Math.floor(n/100).toString();cents<10&&(cents="0"+cents);for(var t=0;t<Math.floor((n.length-(1+t))/3);t++)n=n.substring(0,n.length-(4*t+3))+","+n.substring(n.length-(4*t+3));return(sign?"":"-")+n+"."+cents}function pad(n,t){return n=n.toString(),n.length<t?pad("0"+n,t):n}function padLeft(n,t){return n=""+n,n.length>=t?n:new Array(t-n.length+1).join("0")+n}function Resize(){var t=16,n;$(".personal_tab .game_name").each(function(){if($(this).text().length>t){$(this).attr("title",$(this).text());var n=$(this).text().substring(0,t-1)+"...";$(this).text(n)}});n=$(window).width();isIE()==9&&(n>609?($(".header").css({left:0}),$(".bottom_bar").css({left:0})):($(".header").each(function(){$(this).css({left:-$(window).scrollLeft()})}),$(".bottom_bar").each(function(){$(this).css({left:-$(window).scrollLeft()})})));n>1024?$(".bottom_bar .personal_tab dd").each(function(){$(this).css({"margin-left":-$(this).width()/2+$(this).siblings("dt").width()/2-15,left:"auto"})}):n<=592?$(".bottom_bar .personal_tab dd").each(function(){$(this).css({left:0,"margin-left":0})}):$(".bottom_bar .personal_tab dd").each(function(){$(this).css({"margin-left":-$(this).width()/2-16,left:"50%"})});$(".bottom_bar .personal_tab .game_item .item_view").click(function(){$(".bottom_bar .personal_tab dt").removeClass("on")});$(".bottom_bar .personal_tab .game_item .fav_close_btn").click(function(){$(this).parents(".game_item").remove();var n=$(".bottom_bar .personal_tab #MyFavorite-dl.tab ul li").size();n===0&&$(".bottom_bar .personal_tab #MyFavorite-dl dt").removeClass("on")})}function isIE(){var n=navigator.userAgent.toLowerCase();return n.indexOf("msie")!==-1?parseInt(n.split("msie")[1]):!1}function CheckGamebyGameTypeNo(n){if(n!==null){var t=jsonPath(objGameList,"$.Content..GameTypes[?(@.GameTypeNo == '"+n+"')]");if(t.length>0)return!0}return!1}function DateFormatConversion(n){var u=n.split(" "),f="",e,o,s,t,h,c,l="",i,r;return u.length>0&&u.length===2&&(i=u[0].split("/"),r=u[1].split(":"),i.length>0&&i.length===3&&(e=i[0],o=i[1],s=i[2]),r.length>0&&r.length===3&&(t=r[0],h=r[1],c=r[2]),l=t>=12?Lang==="cs"||Lang==="ch"?"下午":"PM":Lang==="cs"||Lang==="ch"?"上午":"AM",t===0?t=12:t>12&&(t=t-12),f=DT_format(t)+":"+DT_format(h)+":"+DT_format(c)+" "+l+"&nbsp;"+strMonth[o-1]+" "+s+", "+e+" GMT "+_gmtTxt),f}function DT_format(n){var t="";return n<10?(t=n.toString(),t.length<2&&(t="0"+t)):t=n.toString(),t}function Click_Analytics(n,t,i){var r,u;AnalyticsJSON="";r="";typeof implSendCustEventToGTM!="undefined"&&(Analytics_Origin="SL",Analytics_Type="Click",Analytics_Platform=Platform,Analytics_GroupNo="",Analytics_SubGroupNo="",Analytics_LobbyArea===LobbyArea_GameList?SearchCheck?r=LoobyArea_Search:(Analytics_GroupNo=GroupNo,Analytics_SubGroupNo=SubGroupNo,r=Analytics_LobbyArea):r=Analytics_LobbyArea,Analytics_GameTypeNo=n,Analytics_VendorID=t,Analytics_IsJackpot=i,AnalyticsJSON='{"Origin":"'+Analytics_Origin+'", "Type":"'+Analytics_Type+'","Platform":"'+Analytics_Platform+'","Click":{"LobbyArea":"'+r+'","GroupNo":"'+Analytics_GroupNo+'","SubGroupNo":"'+Analytics_SubGroupNo+'","GameTypeNo":"'+Analytics_GameTypeNo+'","VendorID":'+Analytics_VendorID+',"IsJackPot":'+Analytics_IsJackpot+"}}",u=JSON.parse(AnalyticsJSON),implSendCustEventToGTM(u))}function Error_Analytics(n){if(AnalyticsJSON="",typeof implSendCustEventToGTM!="undefined"){Analytics_Origin="SL";Analytics_Type="Error";Analytics_Platform=Platform;Analytics_ErrorCode=n;AnalyticsJSON='{"Origin":"'+Analytics_Origin+'", "Type":"'+Analytics_Type+'","Platform":"'+Analytics_Platform+'","Error":{"ErrorCode":"'+Analytics_ErrorCode+'"}}';var t=JSON.parse(AnalyticsJSON);implSendCustEventToGTM(t)}}function GetUnfinishedGame(n,t){$.ajax({url:"../"+Directory+"/Common/GetBrokenGame.php",async:!0,type:"POST",timeout:3500,dataType:"json",success:function(i){var r=i.ErrorCode,u=i.ErrorMessage;return n==="S"?t(i.BrokenGame):r===""||r===""?t(i.BrokenGame):(Error_Analytics(r),$("#ErrTitle").html(r.replace("{0}",BrokenGameTitle)),$("#ErrMessage").html(u),$("#MgBoxbtn").click(function(){$(".bottom_bar .personal_tab dt").removeClass("show")}),$("#MgBox").show(),t(""))}})}var Desktop_Platform="C",Desktop_PlatformNo="02",Mobile_Platform="H",Mobile_PlatformNo="03",Mini_Platform="M",Mini_PlatformNo="04",Tablet_Platform="T",Tablet_PlatformNo="05",OneRNG_VendorID=10,VB_VendorID=12,PP_VendorID=32,GameStatus_Enable="00",GameStatus_Disable="01",GameStatus_ComingSoon="02",GameStatus_CanSeeCantPlay="03",GameStatus_PlayForFun="04",LobbyArea_Banner="Banner",LobbyArea_JPBanner="JPBanner",LobbyArea_JPWinning="JPWinning",LobbyArea_GameList="GameList",LobbyArea_ListPlayed="ListPlayed",LobbyArea_MyFavorite="MyFavorite",LobbyArea_UnfinishedGame="UnfinishedGame",LoobyArea_Search="Search",Analytics_Origin,Analytics_Type,Analytics_Platform,Analytics_LobbyArea,Analytics_GroupNo,Analytics_SubGroupNo,Analytics_GameTypeNo,Analytics_VendorID,Analytics_IsJackpot,Analytics_ErrorCode,AnalyticsJSON;(function(n){n.fn.animateNumbers=function(t,i,r){return this.each(function(){var u=n(this),f=parseFloat(u.text().replace(/,/g,""));i=i===undefined?!0:i;n({value:f}).animate({value:t},{duration:r==undefined?1e3:r,easing:"linear",step:function(){u.text(Math.floor(this.value));i&&u.text(formatCurrency(u.text()))},complete:function(){parseFloat(u.text())!==t&&(u.text(t),i&&u.text(formatCurrency(u.text())))},progress:function(){u.text(Math.floor(this.value*100)/100);i&&u.text(formatCurrency(u.text()))}})})}})(jQuery)