function GameClick(n){var t=n.id,i=t.substring(2);Analytics_LobbyArea=LobbyArea_GameList;OpenGame(i)}function OpenGame(n){var t=jsonPath(objGameList,"$.Content..GameTypes[?(@.GameTypeNo == '"+n+"')]"),s=t.length,i="",r="",u="",f="",e="",o;s>0&&(i=t[0].GameTypeName,r=t[0].VendorID,u=typeof t[0].Height!="undefined"?t[0].Height:"0",f=t[0].ClientType,e=typeof t[0].SIconURL!="undefined"?t[0].SIconURL:"",o=t[0].IsJackpot,Click_Analytics(n,r,o),n==="DesktopLobby"?PostDataset(n,"","",""):OneRngGameUrl(i,n,r,!1,f,function(t){t!==""&&($("#MiniMain").hide(),$("#MiniMask").css("height",u),$("#MiniMask").show(),PostDataset(n,i,e,u),console.log("Open Game~"),location.href=t)}))}function OneRngGameUrl(n,t,i,r,u,f){$.post("../"+Directory+"/GetGameUrl/GetOneRNGGameUrl",{GameTypeNo:t,VendorID:i,IsFun:r,ClientType:u,GroupNo:"",SubGroupNo:""},function(t){var i=t.ErrorCode,r=t.ErrorMessage;return i!==""||i!==""?(Error_Analytics(i),$("#ErrTitle").html(i),$("#ErrMessage").html(r.replace("@","<br/>").replace("{0}",n)),$("#MgBox").show(),f("")):f(t.GamrUrl)})}function PostDataset(n,t,i,r){console.log("PostDataset started~.");var f=new Date,e=f.getFromFormat("yyyy/MM/dd hh:mm:ss"),o={TimeStamp:e,Call:{TitleTypeNo:n,TitleName:t,TitleIconName:i,Height:parseInt(r)}},u=sbHost;sbHost.indexOf("//")===-1&&(u="http://"+sbHost);window.parent.postMessage(o,u);console.log("PostDataset end.")}function SelGameList(){var n;n=jsonPath(objGameList,"$.Content.DisplayGroups[?(@.GroupNo == 'Mini Games')].GameTypes[*]");n!==!1&&n!==null&&n!==undefined&&n.sort(function(n,t){return+n.DispSeq>+t.DispSeq?1:-1});GetGameList(n)}function GetGameList(n){$("#ListItem").children().remove();n!==!1&&n!==null&&n!==undefined?n.length!==0?GetUnfinishedGame("",function(t){$.each(n,function(i){var u=n[i].GameTypeNo,f=n[i].IconURL,s=n[i].GameTypeName,h=n[i].GameTypeName.substr(s.indexOf(")")+1),e="mini-game-single",o,r;CDNUrl!==""&&(f=CDNUrl+"/"+Directory+"/"+f+"?v="+CDNVer);t!==""&&(o=JSON.parse(t),r=o.Content.GameTypes,r!==""&&$.each(r,function(n){var t=r[n].GameTypeNo;u===t&&(e=e+" unfinished")}));$("#ListItem").append("<div id='GL"+u+"' class='"+e+"' onclick='GameClick(this)'><img src="+f+" alt="+u+"><p>"+h+"<\/p><\/div>")});$("#ListItem").append("<div class='clearfix'><\/div>")}):$("#ListItem").append("<p class='enable'>"+ErrorMgs+"<\/p>"):$("#ListItem").append("<p class='enable'>"+ErrorMgs+"<\/p>")}Date.prototype.getFromFormat=function(n){var e=this.getFullYear().toString(),t,i,r,u,f;return n=n.replace(/yyyy/g,e),t=(this.getMonth()+1).toString(),n=n.replace(/MM/g,t[1]?t:"0"+t[0]),i=this.getDate().toString(),n=n.replace(/dd/g,i[1]?i:"0"+i[0]),r=this.getHours().toString(),n=n.replace(/hh/g,r[1]?r:"0"+r[0]),u=this.getMinutes().toString(),n=n.replace(/mm/g,u[1]?u:"0"+u[0]),f=this.getSeconds().toString(),n.replace(/ss/g,f[1]?f:"0"+f[0])}